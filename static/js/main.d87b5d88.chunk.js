(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n(50),l=Object(s.a)(null),u=l.Context;l.withContext;e.devlog2=[];var d=function(t){Object(i.a)(s,t);var n=Object(o.a)(s);function s(){return Object(a.a)(this,s),n.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var t=this.props,n=t.rfcId,a=t.initialCommandsString,r=t.initialEventsString;return e.devlog2.push({instance:this.props.instance,e:r&&r.length,c:a&&a.length,initialEventsString:r,initialCommandsString:a}),c.createElement(u.Provider,{value:{rfcId:n,initialCommandsString:a,initialEventsString:r}},this.props.children)}}]),s}(c.Component)}).call(this,n(32))},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var a=n(195),r=n(397),i=Object(a.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],maxWidth:600,fontSize:13,padding:8}}}))(r.a)},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHttpClient=void 0;var a=n(459);Object.defineProperty(t,"JsonHttpClient",{enumerable:!0,get:function(){return a.JsonHttpClient}})},112:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return G}));var a=n(55),r=n(26),i=n(15),o=n(17),c=n(21),s=n(22),l=n(5),u=n.n(l),d=n(9),p=n(34),f=n(8),m=n(0),h=n.n(m),v=n(99),g=n(18),b=n(13),y=n(151),E=n(684),O=n(62),j=n.n(O),w=n(394),C=n(138),x=n.n(C),S=n(3),k=n(63),I=n(23),D=n(685),R=n(268),N=(n(209),n(16),n(682)),T=(n(29),n(145)),P=n(30),A=n(98),B=n(143),U=n(392),F=n(678),J=n(108),L=n(44),H=n(388),z=n(90),W=n(78),q=n(24);function M(e){var t=e.newRegions,n=e.ignoreDiff,a=e.captureId,r=e.endpointId,i=$(),o=Object(m.useContext)(k.a).acceptSuggestion,c=Object(L.c)(),s=c.diffService,l=c.captureService,v=Object(m.useState)([]),E=Object(f.a)(v,2),O=E[0],j=E[1],w=Object(m.useState)(!1),C=Object(f.a)(w,2),x=C[0],I=C[1],D=Object(m.useState)(!1),N=Object(f.a)(D,2),T=(N[0],N[1],h.a.useState(!1)),P=Object(f.a)(T,2),A=P[0],B=P[1];if(0===t.length)return null;var z=function(e){return!!O.find((function(t){return S.CompareEquality.between(t,e.diff)}))},M=function(e){return function(t){t.target.checked?j(O.filter((function(t){return!S.CompareEquality.between(t,e.diff)}))):j([].concat(Object(p.a)(O),[e.diff]))}},_=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),a=t.filter((function(e){return z(e)})).map((function(e){return e.diff})),n.apply(void 0,Object(p.a)(a)),e.next=5,Promise.all(t.filter((function(e){return!z(e)})).map(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.loadInteraction(t.firstInteractionPointer);case 2:if(n=e.sent,a=n.interaction,r=t.toString()+A.toString(),!(i=window.naiveCache&&window.naiveCache[r])){e.next=10;break}e.t0=i,e.next=13;break;case 10:return e.next=12,s.loadInitialPreview(t,S.JsonHelper.fromInteraction(a),A);case 12:e.t0=e.sent;case 13:return o=e.t0,c=o.suggestion,e.abrupt("return",Object(S.getOrUndefined)(c));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:r=e.sent,Object(q.b)("Documented Changes"),o.apply(void 0,Object(p.a)(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=!x&&t.map((function(e){if(e.inRequest)return h.a.createElement(V,{diff:e,key:e.diff.toString(),isDeselected:z,onChange:M,inferPolymorphism:A,endpointId:r})})).filter((function(e){return!!e})),Q=!x&&t.map((function(e){if(e.inResponse)return h.a.createElement(V,{diff:e,isDeselected:z,onChange:M,key:e.diff.toString(),inferPolymorphism:A,endpointId:r})})).filter((function(e){return!!e}));(G.length||Q.length)&&Object(q.b)("Diff New Bodies",{requestCount:G.length,responseCount:Q.length,regions:[G.map((function(e){return e.locationString})),Q.map((function(e){return e.locationString}))]}),Object(q.b)("Show Initial Documentation Page",e);var Y=Q.length+G.length-O.length;return h.a.createElement(h.a.Fragment,null,h.a.createElement(R.a,{className:i.header,elevation:2},h.a.createElement("div",{style:{flex:1}},h.a.createElement(g.a,{variant:"h5",color:"primary",style:{fontSize:22}},"Generate Initial Documentation")),h.a.createElement("div",{className:i.approveNewRegions},h.a.createElement(J.a,{title:h.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},"When you turn this option on, Optic will try to infer which fields are Optional, Nullable or OneOfs in your bodies. This can save you a lot of time when documenting large APIs. Leave this option disabled to review the polymorphism in your API manually.",h.a.createElement(g.a,{variant:"caption",style:{marginTop:12,color:b.a}},"A random 20 examples from this capture will be used for the inference, it may not catch everything."," "))},h.a.createElement(U.a,{style:{marginRight:12},control:h.a.createElement(F.a,{size:"medium",checked:A,disabled:x,onChange:function(e){B(e.target.checked),e.target.checked&&Object(q.b)("Infer polymorhpism",{captureId:a})},color:"primary"}),labelPlacement:"start",label:h.a.createElement(g.a,{variant:"body1",color:"textSecondary",style:{fontSize:12}},"Infer Polymorphism")})),h.a.createElement(y.a,{size:"small",color:"default",onClick:function(){var e=t.map((function(e){return e.diff}));n.apply(void 0,Object(p.a)(e))},disabled:x,style:{marginRight:10}},"Ignore All"),h.a.createElement(y.a,{size:"small",color:"primary",variant:"contained",disabled:0===Y||x,onClick:_},"Document (",Y||"",") bodies")),x&&h.a.createElement(H.a,null)),!x&&h.a.createElement("div",{className:i.wrapper},h.a.createElement("div",{className:i.diffsNewRegion},G.length>0&&h.a.createElement("div",{className:i.region},h.a.createElement(g.a,{variant:"h6",color:"primary"},"Requests"),G),h.a.createElement(W.a,{when:G.length},h.a.createElement(b.b,{style:{marginTop:30,marginBottom:20}})),Q.length>0&&h.a.createElement("div",{className:i.region},h.a.createElement(g.a,{variant:"h6",color:"primary"},"Responses"),Q))))}var _=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!S.CompareEquality.between(e.newRegions,this.props.newRegions)}},{key:"render",value:function(){return console.log("rendering all over again"),h.a.createElement(M,this.props)}}]),n}(h.a.Component),G=function(e){var t=$(),n=e.location,a=e.itemStyles;return h.a.createElement(D.a,{className:t.location,separator:h.a.createElement("span",{style:Object(r.a)({fontSize:13},a)},"\u203a"),"aria-label":"breadcrumb"},n.filter((function(e){return!!e})).map((function(e){return h.a.createElement(g.a,{key:e,style:a,className:t.crumb,color:"primary"},e)})))},V=function(e){var t=e.diff,n=e.inferPolymorphism,r=e.isDeselected,i=e.onChange,o=e.endpointId,c=!r(t),s=$(),l=t.interactionsCount,u=h.a.useState(1),d=Object(f.a)(u,2),p=d[0],v=d[1];Object(m.useEffect)((function(){v(1)}),[t.diff?t.diff.toString():void 0]);var g=Object(S.getIndex)(t.interactionPointers)(p-1),b=Object(z.c)(g),y=Object(z.b)(t,b&&b.interactionScala,n,o),O=y.preview,C=y.loadingInferPoly;if(!b||!O||C)return h.a.createElement(H.a,null);var x=Object(S.getOrUndefined)(O.bodyPreview),k=Object(S.getOrUndefined)(O.shapePreview);return h.a.createElement(h.a.Fragment,null,h.a.createElement(R.a,{className:s.regionHeader,elevation:2},h.a.createElement(E.a,{checked:c,onChange:i(t),color:"primary"}),h.a.createElement(w.a,{className:j()(Object(a.a)({},s.uncheckedText,!c)),primary:t.inRequest?Object(S.getOrUndefined)(t.contentType)||"No Body":"".concat(Object(S.getOrUndefined)(t.statusCode)," Response ").concat(Object(S.getOrUndefined)(t.contentType)||"No Body"),secondary:"Observed ".concat(t.interactionsCount," times"),primaryTypographyProps:{style:{fontSize:14}},secondaryTypographyProps:{style:{fontSize:12}}}),h.a.createElement("div",{style:{flex:1}}),l>1&&Object(S.getOrUndefined)(t.contentType)&&h.a.createElement(N.a,{color:"primary",className:j()(Object(a.a)({},s.unchecked,!c)),style:{display:"flex"},count:l,page:p,showLastButton:l>5,size:"small",onChange:function(e,t){return v(t)}})),h.a.createElement("div",{className:j()(s.newContentPreview,Object(a.a)({},s.unchecked,!c))},h.a.createElement("div",{style:{width:"55%",paddingRight:15}},x&&h.a.createElement(A.b,{header:h.a.createElement("div",{style:{display:"flex",alignItems:"center"}},h.a.createElement(G,{itemStyles:{fontSize:13,color:"white"},location:["Example"]}),h.a.createElement("div",{style:{flex:1}}),h.a.createElement("span",{style:{color:"white"}},"\u2b95"))},h.a.createElement(P.b,null,h.a.createElement(T.a,{preview:x,exampleOnly:!0})))),h.a.createElement("div",{style:{flex:1}},k&&h.a.createElement(A.b,{header:h.a.createElement(G,{itemStyles:{fontSize:13,color:"white"},location:["Documented Shape"]})},h.a.createElement(P.b,null,h.a.createElement(B.a,{preview:k,exampleOnly:!0}))))))},$=Object(v.a)((function(e){return{root:{width:"100%"},blur:{opacity:.3,pointerEvents:"none"},header:{backgroundColor:"white",padding:8,paddingLeft:12,display:"flex",justifyContent:"center",position:"sticky",top:0,zIndex:500,alignItems:"center"},region:{padding:5},regionHeader:{display:"flex",flexDirection:"row",marginTop:16,paddingRight:12},approveNewRegions:{paddingRight:10},newContentPreview:{paddingTop:16,paddingRight:8,display:"flex",flexDirection:"row"},unchecked:{pointerEvents:"none",opacity:.38},uncheckedText:{pointerEvents:"none",opacity:.68},hunkHeader:{paddingRight:10,paddingTop:5,paddingBottom:5,color:"#25292e",minHeight:40,fontWeight:800,display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},location:{marginLeft:12},diff:{fontSize:12,fontWeight:600,color:"#f8333c",marginLeft:11,flex:1,paddingLeft:30},crumb:{fontSize:12,textTransform:"uppercase"},heading:{fontSize:e.typography.pxToRem(17),padding:0,fontWeight:e.typography.fontWeightRegular},wrapper:{overflow:"hidden",paddingTop:18},hunk:{backgroundColor:"white",minHeight:300},subheader:{fontWeight:100,paddingBottom:0,marginBottom:0,height:33},diffsNewRegion:{display:"flex",flexDirection:"column",paddingLeft:5,justifyContent:"center"}}}));x.a,I.a,x.a,I.b,x.a,I.c},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(39),r=n.n(a),i=n(391),o=n(0),c=n.n(o),s=n(23),l=r()((function(e){return{root:{textTransform:"none",color:s.g,padding:0,marginTop:5,height:35,minHeight:"inherit",minWidth:"inherit",fontWeight:500,textAlign:"left",fontSize:e.typography.pxToRem(13),textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:e.spacing(2),"&:focus":{opacity:1}},wrapper:{alignItems:"flex-start"}}}))((function(e){return c.a.createElement(i.a,Object.assign({disableRipple:!0},e))})),u=r()((function(e){return{root:{textTransform:"none",color:s.g,padding:0,marginTop:5,height:20,minHeight:"inherit",minWidth:"inherit",fontWeight:500,textAlign:"left",fontSize:e.typography.pxToRem(12),textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:e.spacing(2),"&:focus":{opacity:1}},wrapper:{alignItems:"flex-start"}}}))((function(e){return c.a.createElement(i.a,Object.assign({disableRipple:!0},e,{label:c.a.createElement("div",{style:{display:"flex",width:"100%"}},c.a.createElement("div",{style:{flex:1}},e.label),c.a.createElement("div",null,e.count))}))}))},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(0),r=n.n(a),i=n(100),o=(n(23),n(99)),c=n(18);n(13);function s(e){e.show;var t=d();return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.top},r.a.createElement(i.a,{variant:"rect",height:80})),r.a.createElement("div",{className:t.sideBySide},r.a.createElement(i.a,{variant:"rect",height:550,component:"div",className:t.textParent},r.a.createElement(c.a,{component:"div",className:t.text,variant:"overline"},"Waiting for Next Diff...")),r.a.createElement("div",{style:{width:20}}),r.a.createElement(i.a,{variant:"rect",width:250,height:200})))}function l(e){var t=e.show,n=d();return t?r.a.createElement("div",{className:n.rootOverview},r.a.createElement(i.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}}),r.a.createElement(i.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}}),r.a.createElement(i.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}}),r.a.createElement(i.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}})):null}function u(e){var t=e.show,n=d();return t?r.a.createElement("div",{className:n.rootUnder},r.a.createElement("div",{className:n.sideBySide},r.a.createElement(i.a,{variant:"rect",height:550,component:"div",className:n.textParent,withChildren:{withChildren:n.withChildren}},r.a.createElement(c.a,{component:"div",className:n.text,variant:"overline",style:{visibility:"inherit"}},"Loading Example and Diff...")),r.a.createElement("div",{style:{width:20}}),r.a.createElement(i.a,{variant:"rect",width:250,height:200}))):null}var d=Object(o.a)((function(e){return{root:{width:"100%"},rootOverview:{paddingLeft:15,paddingRight:15},rootUnder:{width:"100%",marginTop:70},text:{margin:"0 auto",fontSize:20,fontWeight:400,color:"#959191",visibility:"inherit !important"},textParent:{display:"flex",justifyContent:"center",flex:1,maxWidth:"inherit",alignItems:"center"},top:{paddingBottom:20},sideBySide:{display:"flex",maxWidth:"inherit",flexDirection:"row"},withChildren:{visibility:"inherit"}}}))},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return g}));var a=n(26),r=n(671),i=n(0),o=n.n(i),c=n(18),s=n(23).g,l="#a3acb9",u="#818892",d={fontWeight:600,fontSize:13},p={color:s,fontWeight:600,letterSpacing:".41px",textTransform:"none"},f={color:l,fontSize:"12px",fontWeight:500,letterSpacing:".41px"},m={color:u,fontSize:"15px",fontWeight:500,letterSpacing:".41px"},h={GET:"#276c4e",POST:"#264859",PUT:"#69340a",PATCH:"#796384",DELETE:"#634444"},v=function(e){var t=e.style;return o.a.createElement(r.a,{style:Object(a.a)(Object(a.a)({},t),{},{backgroundColor:"#e3e8ee"})})},g=function(e){var t=e.title,n=e.onClick;return o.a.createElement(c.a,{onClick:n,variant:"h5",style:p}," ",t," ")}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(34),r=n(55),i=n(8),o=n(0),c=n.n(o),s=n(18),l=n(269),u=n(211),d=n.n(u),p=n(62),f=n.n(p),m=n(23),h=n(30),v=n(3),g=n(16),b=n(46),y=n(114),E=n(393),O=n(29),j=n(31),w=n(108),C=n(85),x=n(208);function S(e){var t=e.preview,n=e.exampleOnly,a=Object(g.g)();if(!t)return null;t.rootId;var r=Object(v.getOrUndefined)(t.getRootShape);if(!r)throw new Error("Could not render root shape");return c.a.createElement(h.d,{shape:t,hideDivider:!0,exampleOnly:n},c.a.createElement("div",{className:a.root},c.a.createElement(b.a.Provider,{value:{depth:0}},k(r))))}function k(e,t){if(!e)return null;switch(e.baseShapeId){case"$object":return c.a.createElement(R,{shape:e,nested:Boolean(t)});default:return c.a.createElement(I,{shape:e})}}var I=function(e){var t=Object(g.g)(),n=Object(o.useContext)(h.c).shapeRender,a=e.shape,r=Object(o.useState)(null),s=Object(i.a)(r,2),l=s[0],u=s[1];Object(o.useEffect)((function(){u(null)}),[a]);var d=function(e){if(e===l)return u(null);u(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(D,{left:c.a.createElement(b.b,null,c.a.createElement("div",{className:t.rowContents},c.a.createElement("div",{style:{flex:1,paddingLeft:4}},c.a.createElement(g.e,{typeName:a.name,onTypeClick:d}))))}),c.a.createElement(E.a,{in:!!l},l&&c.a.createElement(b.b,{add:2},c.a.createElement(y.a,{className:t.nested,elevation:6},c.a.createElement(b.a.Provider,{value:{depth:0}},k(Object(v.getOrUndefined)(n.getSpecShape(l))))))))},D=Object(h.f)((function(e){var t,n=Object(g.g)(),a=e.exampleOnly,i=e.onLeftClick,o=e.stayHighlighted,s=e.hideDivider,l="Addition"===e.highlight?m.a:"Update"===e.highlight?m.b:"Removal"===e.highlight?m.c:void 0;return c.a.createElement("div",{className:f()(n.row,(t={},Object(r.a)(t,n.stayHighlighted,o),Object(r.a)(t,n.rowWithHover,!e.noHover),t)),style:{backgroundColor:l}},c.a.createElement("div",{className:n.left,onClick:i},e.left),!a&&!s&&c.a.createElement("div",{className:n.spacerBorder}," ".replace(/ /g,"\xa0")),!a&&c.a.createElement("div",{className:n.right,style:{width:"50%"}},e.right))})),R=Object(h.f)((function(e){Object(g.g)(),e.shapeRender;var t=e.shape,n=e.nested,a=t.fields;return c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement(D,{left:c.a.createElement(g.d,null,"{"),noHover:!0}),Object(v.mapScala)(a)((function(e){return c.a.createElement(A,{field:e})})),c.a.createElement(b.c,null,c.a.createElement(D,{left:c.a.createElement(g.d,{withIndent:!0},"}"),noHover:!0})))}));function N(e){var t=e.children,n=e.missing,a=Object(g.g)();return c.a.createElement(s.a,{variant:"caption",className:a.fieldName,style:{opacity:n?.4:1}},t,":")}function T(e){var t=e.shape;Object(g.g)();return c.a.createElement(b.c,{add:1},k(t,!0))}function P(e){var t=e.fieldId,n=Object(g.g)(),r=Object(o.useContext)(O.c),s=r.cachedQueryResults,u=r.handleCommands,p=s.contributions.getOrUndefined(t,j.a),f=Object(o.useState)(!1),m=Object(i.a)(f,2),h=m[0],v=m[1],b=Object(o.useState)(p||""),y=Object(i.a)(b,2),E=y[0],S=y[1],k=p||E,I=function(){E!==p&&u.apply(void 0,Object(a.a)(Object(x.a)(t,j.a,E))),v(!1)};return c.a.createElement("div",{className:n.fieldDescription,style:{justifyContent:"flex-end"}},h&&c.a.createElement(l.a,{value:E,onChange:function(e){return S(e.target.value)},onBlur:I,autoFocus:!0,fullWidth:!0,multiline:!0,inputProps:{onBlur:I,style:{color:g.c}},size:"small"}),!h&&k&&c.a.createElement("div",{style:{flex:1},onClick:function(){return v(!0)}},c.a.createElement(C.a,{source:k,noHeadings:!0})),!p&&!h&&c.a.createElement(w.a,{title:"Add Field Description"},c.a.createElement(d.a,{className:"descriptionButton",onClick:function(){return v(!0)},style:{width:15,display:"none",height:15,cursor:"pointer",color:g.c},color:"primary"})))}var A=Object(h.f)((function(e){var t=Object(g.g)(),n=e.field,a=e.shapeRender,r=n.fieldName,s=n.shape,l=n.specFieldId,u=Object(o.useState)(null),d=Object(i.a)(u,2),p=d[0],f=d[1];Object(o.useEffect)((function(){f(null)}),[s]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(D,{stayHighlighted:Boolean(p),left:c.a.createElement(b.b,null,c.a.createElement("div",{className:t.rowContents},c.a.createElement("div",null,c.a.createElement(N,null,r)),c.a.createElement("div",{style:{flex:1,paddingLeft:4}},s.isObject?c.a.createElement(g.d,{children:"{"}):c.a.createElement(g.e,{typeName:s.name,onTypeClick:function(e){if(e===p)return f(null);f(e)}})))),right:c.a.createElement(P,{fieldId:l})}),s&&s.isObject?c.a.createElement(T,{shape:s}):c.a.createElement(E.a,{in:!!p},p&&c.a.createElement(b.b,{add:2},c.a.createElement(y.a,{className:t.nested,elevation:6},c.a.createElement(b.a.Provider,{value:{depth:0}},k(Object(v.getOrUndefined)(a.getSpecShape(p))))))))}))},144:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(99),o=n(170),c=n.n(o),s=n(18),l=n(114),u=n(13),d=n(23),p=n(151),f=function(){return r.a.createElement(p.a,{color:"secondary",onClick:function(){window.Intercom("showNewMessage","Hey Optic team, I have a question!"),window.Intercom("update",{hide_default_launcher:!1})}},"Need Help?")};n.d(t,"a",(function(){return h}));var m=Object(i.a)((function(e){return{header:{textAlign:"center",marginBottom:22},paper:{padding:20,width:400,margin:"0px auto",paddingBottom:10},inlineCode:{backgroundColor:"#e2e2e2",padding:2,fontSize:12,paddingTop:1,paddingBottom:1,display:"inline-block",color:d.h}}}));function h(e){var t=m(),n=e.title,a=e.content;return r.a.createElement(l.a,{className:t.paper},r.a.createElement("div",{className:t.header},r.a.createElement("img",{src:"/optic-logo.svg"}),r.a.createElement(s.a,{variant:"h6",color:"primary"},n)),r.a.createElement(u.b,{style:{marginBottom:30}}),r.a.createElement(v,{source:a}),r.a.createElement("div",{style:{display:"flex",marginTop:15}},r.a.createElement("div",{style:{flex:1}}),r.a.createElement(f,null)))}function v(e){var t=e.source,n=e.style,a=m();return r.a.createElement("div",{style:n},r.a.createElement(c.a,{source:t,renderers:{paragraph:function(e){var t=e.children;return r.a.createElement(s.a,{variant:"body2",style:{fontWeight:200,marginTop:11,whiteSpace:"pre-wrap"}},t)},inlineCode:function(e){var t=e.children;return r.a.createElement(s.a,{className:a.inlineCode},t)}}}))}},145:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(99),o=n(30),c=n(8),s=n(55),l=n(18),u=n(62),d=n.n(u),p=n(273),f=n(188),m=n.n(f),h=n(378),v=n.n(h),g=n(379),b=n.n(g),y=n(23),E=n(380),O=n.n(E),j=n(3),w=n(63),C=n(46),x=n(16),S=(n(143),function(e){var t=e.shape,n=Object(x.g)(),i=Object(a.useRef)(null),s=function(e){var t=Object(a.useState)({isAbove:!1,isBelow:!1,x:null,width:null}),n=Object(c.a)(t,2),r=n[0],i=n[1],o=Object(a.useRef)(null),s=Object(a.useRef)(null),l=Object(a.useCallback)((function(){if(e&&window){var t=o.current;if(t){var n=window.innerHeight,a=t.getBoundingClientRect(),c=a.bottom<100,u=a.top-n>0,d=a.x,p=a.width;c===r.isAbove&&u===r.isBelow&&d===r.x&&p===r.width||i({isAbove:c,isBelow:u,x:d,width:p}),s.current=requestAnimationFrame(l)}}}),[r.isAbove,r.isBelow,r.x,r.width]);return{ref:o,compassState:r}}(!0),l=s.ref,u=s.compassState,d=Object(o.e)(),f=d.diff,m=d.diffDescription;Object(a.useEffect)((function(){var e=i.current;return l.current=e.querySelector(".".concat(n.isTracked," .").concat(n.right)),function(){l.current=null}}),[f&&f.toString()]);var h=Object(a.useCallback)((function(e){e.preventDefault(),l.current&&Object(p.a)(l.current,{scrollMode:"always",block:"center"})}),[f&&f.toString()]);return r.a.createElement("div",{ref:i,className:n.root},r.a.createElement(C.a.Provider,{value:{depth:0}},k(t)),f&&r.a.createElement(R,Object.assign({changeType:m.changeTypeAsString},u,{onClick:h})))});function k(e,t){if(!e)return null;switch(e.baseShapeId){case"$object":return r.a.createElement(N,{shape:e,nested:Boolean(t)});case"$list":return r.a.createElement(T,{shape:e,nested:Boolean(t)});default:return r.a.createElement(D,{left:r.a.createElement(U,{shape:e,value:Object(j.getJson)(e.example)})})}}function I(e){return"Addition"===e?y.a:"Update"===e?y.b:"Removal"===e?y.c:void 0}var D=Object(o.f)((function(e){var t,n=Object(x.g)(),a=e.exampleOnly,i=e.onLeftClick,o=I(e.changeType);return r.a.createElement("div",{className:d()(n.row,(t={},Object(s.a)(t,n.rowWithHover,!e.noHover),Object(s.a)(t,n.isTracked,!!e.tracked),t)),style:{backgroundColor:o}},r.a.createElement("div",{className:n.left,onClick:i},e.left),!a&&r.a.createElement("div",{className:n.spacerBorder}," ".replace(/ /g,"\xa0")),!a&&r.a.createElement("div",{className:n.right},e.right))}));function R(e){var t,n=Object(x.g)(),a=I(e.changeType),i=e.x,o=e.width,c=e.isAbove,l=e.isBelow;return r.a.createElement("div",{className:d()(n.rowCompass,(t={},Object(s.a)(t,n.isAbove,c),Object(s.a)(t,n.isBelow,l),t)),style:{left:i,width:o},onClick:e.onClick},r.a.createElement("div",{className:n.rowCompassBody,style:{backgroundColor:a}},r.a.createElement(v.a,{className:d()(n.rowCompassDirection,n.rowCompassDirectionDown)}),r.a.createElement(b.a,{className:d()(n.rowCompassDirection,n.rowCompassDirectionUp)}),r.a.createElement(J,null)))}D.displayName="ShapeViewer/Row";var N=Object(o.f)((function(e){e.shapeRender;var t=e.shape,n=e.nested,a=t.fields;return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(D,{left:r.a.createElement(x.d,null,"{"),right:r.a.createElement(F,{typeName:t.name}),noHover:!0}),Object(j.mapScala)(a)((function(e){var n=[e.fieldName,Object(j.headOrUndefined)(e.diffs)].join("-");return r.a.createElement(L,{key:n,field:e,parent:t})})),r.a.createElement(C.c,null,r.a.createElement(D,{left:r.a.createElement(x.d,{withIndent:!0},"}"),noHover:!0})))})),T=Object(o.f)((function(e){Object(x.g)(),e.shapeRender;var t=e.shape,n=e.nested,i=Object(a.useContext)(o.a).showAllLists,c=t.id,s=t.itemsWithHidden(i.includes(c));return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(D,{left:r.a.createElement(x.d,null,"["),right:r.a.createElement(F,{typeName:t.name}),noHover:!0}),Object(j.mapScala)(s)((function(e,t){return r.a.createElement(H,{key:t,item:e,listId:c,isLast:t-1===Object(j.lengthScala)(s)})})),r.a.createElement(C.c,null,r.a.createElement(D,{left:r.a.createElement(x.d,{withIndent:!0},"]"),noHover:!0})))}));function P(e){var t=e.children,n=e.missing,a=Object(x.g)();return r.a.createElement(l.a,{variant:"caption",className:a.fieldName,style:{opacity:n?.4:1}},t,":")}function A(e){var t=e.children,n=Object(x.g)();return r.a.createElement(l.a,{variant:"caption",className:n.indexMarker},t,":")}function B(e){var t=e.value,n=e.shape,i=(Object(x.g)(),Object(a.useContext)(o.c).shapeRender,Object.prototype.toString.call(t));return n?n.isOptional||n.isNullable?r.a.createElement(B,{value:t,shape:n.innerShape}):"[object Array]"===i||"[object Object]"===i?r.a.createElement(C.c,{add:1},k(n,!0)):null:null}function U(e){var t=e.value,n=e.shape;Object(x.g)(),Object(a.useContext)(o.c).shapeRender;if("undefined"===typeof t)return null;if(!n)return null;var i=Object.prototype.toString.call(t);return n.isOptional||n.isNullable?r.a.createElement(U,{value:t,shape:n.innerShape}):"[object Null]"===i?r.a.createElement(x.d,null,"null"):"[object Array]"===i?r.a.createElement(x.d,null,"["):"[object Object]"===i?r.a.createElement(x.d,null,"{"):"[object String]"===i?r.a.createElement(l.a,{variant:"caption",component:"pre",className:"fs-exclude",style:{fontWeight:600,whiteSpace:"pre-line",wordBreak:"break-all",overflowWrap:"break-word",fontFamily:"'Source Code Pro', monospace",color:x.f.StringColor}},'"',t,'"'):"[object Boolean]"===i?r.a.createElement(l.a,{variant:"caption",className:"fs-exclude",style:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",color:x.f.BooleanColor}},t?"true":"false"):"[object Number]"===i?r.a.createElement(l.a,{variant:"caption",className:"fs-exclude",style:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",color:x.f.NumberColor}},t.toString()):null}var F=function(e){var t=e.typeName,n=(e.style,Object(x.g)()),i=Object(a.useContext)(o.c).shapeRender;if(!t)return null;var c=t.asColoredString(i.specShapes);return r.a.createElement("div",{className:n.assertionMet},r.a.createElement(O.a,{style:{color:"#646464",height:10,width:10,marginTop:6,marginRight:6}}),Object(j.mapScala)(c)((function(e,t){if(e.text)return r.a.createElement("span",{key:t,style:{whiteSpace:"pre"}},e.text)})))},J=Object(o.f)(Object(w.c)((function(e){var t=Object(x.g)(),n=e.diffDescription;return r.a.createElement("span",{className:t.diffAssertion},r.a.createElement(m.a,{style:{color:y.h,height:10,width:10}}),r.a.createElement("span",{style:{marginLeft:6}},n.assertion))}))),L=Object(o.f)((function(e){var t=Object(x.g)(),n=e.field,a=(e.parent,e.shapeRender,e.diffDescription),i=e.suggestion,o="missing"===n.display,c=Object(j.getOrUndefined)(n.exampleShape),s=Object(j.getOrUndefined)(n.specShape),u=Object(j.getOrUndefinedJson)(n.example),d=Object(j.headOrUndefined)(n.diffs),p=d&&r.a.createElement(J,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{tracked:!!d,changeType:d&&i?i.changeTypeAsString:d?a.changeTypeAsString:void 0,left:r.a.createElement(C.b,null,r.a.createElement("div",{className:t.rowContents},r.a.createElement("div",null,r.a.createElement(P,{missing:o},n.fieldName)),r.a.createElement("div",{style:{flex:1,paddingLeft:4}},r.a.createElement(U,{value:u,shape:c})))),right:p&&i?r.a.createElement("div",{style:{flex:1,display:"flex",marginLeft:16}},"Removal"!==i.changeTypeAsString&&r.a.createElement(x.e,{style:{marginRight:9},typeName:s&&s.name}),r.a.createElement(l.a,{variant:"caption",className:t.suggestion,style:{marginLeft:"Removal"!==i.changeTypeAsString?15:0}},"(",i.changeTypeAsString,")")):p||(c?r.a.createElement(F,{typeName:s&&s.name}):void 0)}),r.a.createElement(B,{value:u,shape:c}))}));L.displayName="ShapeViewers/FieldRow";var H=Object(o.f)((function(e){var t=Object(x.g)(),n=e.item,a=(e.shapeRender,e.isLast,e.listId),i=e.diffDescription,o=e.suggestion,c=n.exampleShape,s=Object(j.getOrUndefined)(n.specListItem),u=Object(j.headOrUndefined)(n.diffs),d=u&&r.a.createElement(J,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{tracked:!!u,changeType:u&&o?o.changeTypeAsString:u?i.changeTypeAsString:void 0,left:"hidden"===n.display?r.a.createElement(C.b,null,r.a.createElement(x.b,{expandId:a})):r.a.createElement(C.b,null,r.a.createElement("div",{className:t.rowContents},r.a.createElement(A,null,n.index),r.a.createElement("div",{style:{flex:1,paddingLeft:4}},r.a.createElement(U,{value:Object(j.getJson)(n.example),shape:c})))),right:d&&o?r.a.createElement("div",{style:{flex:1,display:"flex",marginLeft:16}},"Removal"!==o.changeTypeAsString&&r.a.createElement(x.e,{style:{marginRight:9},typeName:s.name}),r.a.createElement(l.a,{variant:"caption",className:t.suggestion,style:{marginLeft:"Removal"!==o.changeTypeAsString?15:0}},"(",o.changeTypeAsString,")")):d||(s?r.a.createElement(F,{typeName:s.name}):void 0)}),"hidden"!==n.display&&r.a.createElement(B,{value:Object(j.getJson)(n.example),shape:c}))}));n.d(t,"a",(function(){return W}));var z=Object(i.a)((function(e){return{root:{width:"100%"}}}));function W(e){var t=e.preview,n=e.diffDescription,a=e.suggestion,i=e.exampleOnly,c=e.diff,s=(z(),t.rootId,Object(j.getOrUndefined)(t.getRootShape));return r.a.createElement(o.d,{shape:t,diff:c,diffDescription:n,suggestion:a,exampleOnly:i},r.a.createElement(S,{shape:s}))}},149:function(e,t,n){"use strict";var a=n(15),r=n(17),i=n(21),o=n(22),c=n(34),s=n(8),l=n(0),u=n.n(l),d=n(168),p=n.n(d),f=n(67),m=n(51),h=n(63),v=n(29),g=n(3),b=n(164),y=n(28),E=n(38),O=n(44),j=n(13),w=n(681),C=n(113),x=n(99),S=n(18),k=n(65),I=n(112),D=n(90),R=n(214),N=n(268),T=n(393),P=n(266),A=n(16),B=n(677),U=n(262),F=n.n(U),J=n(23),L=n(98),H=n(169),z=Object(x.a)((function(e){return{diffCursor:{position:"sticky",top:0,zIndex:500,display:"flex",justifyContent:"center",flexDirection:"row",borderLeft:"3px solid ".concat(J.d),alignItems:"center"},diffTitle:{fontSize:15,fontWeight:400,paddingLeft:11},diffCursorActions:{display:"flex",alignItems:"center",flexDirection:"row",paddingRight:10},diffItem:{display:"flex",flexDirection:"column",alignItems:"baseline",paddingLeft:5}}})),W=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={showAllDiffs:!1,selectedDiff:null},e.setSelectedDiff=function(t){return e.setState({selectedDiff:t,showAllDiffs:!1})},e.toggle=function(t){return e.setState({showAllDiffs:t})},e.shouldComponentUpdate=function(t,n,a){return!g.CompareEquality.betweenBodyDiffs(e.props.diffs,t.diffs)||e.state.showAllDiffs!==n.showAllDiffs||!e.state.selectedDiff||t.tab!==e.props.tab},e.componentDidUpdate=function(t,n,a){0!==e.props.diffs.length?e.state.selectedDiff&&g.CompareEquality.containsDiff(e.props.diffs,e.state.selectedDiff)||e.setSelectedDiff(e.props.diffs[0]):e.state.selectedDiff&&e.setState({selectedDiff:null})},e.render=function(){var t=e.props,n=t.diffs,a=t.captureId,r=n.length,i=e.state,o=i.showAllDiffs,c=i.selectedDiff;if(0===r||!c)return null;var s={selectedDiff:c,setSelectedDiff:e.setSelectedDiff,diffs:n,diffCount:r,showAllDiffs:o,toggle:e.toggle};return u.a.createElement("div",{key:e.props.tab},u.a.createElement(q,s),u.a.createElement(L.a,Object.assign({captureId:a,key:c.diff.toString()},{selectedDiff:c,setSelectedDiff:e.setSelectedDiff})))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setSelectedDiff(this.props.diffs[0])}}]),n}(u.a.Component),q=function(e){var t=e.showAllDiffs,n=e.diffs,a=e.setSelectedDiff,r=e.selectedDiff,i=e.diffCount,o=e.toggle,c=z();return u.a.createElement(N.a,{className:c.diffCursor,elevation:3},u.a.createElement("div",{style:{flex:1}},!t&&r&&u.a.createElement(M,{button:!1,diff:r}),u.a.createElement(T.a,{in:t,timeout:0},u.a.createElement(S.a,{variant:"subtitle2",style:{paddingLeft:12,paddingTop:12}},"Choose a diff to review"),u.a.createElement(P.a,null,n.map((function(e){return u.a.createElement(M,{key:e.diff.toString(),setSelectedDiff:a,toggle:o,diff:e,button:!0})}))))),!t&&u.a.createElement("div",{className:c.diffCursorActions},u.a.createElement(S.a,{variant:"overline",style:{color:j.a,marginRight:10}},i," diffs"),u.a.createElement(A.a,{title:"See all Diffs"},u.a.createElement(B.a,{color:"primary",disabled:i<=1,onClick:function(){return o(!0)}},u.a.createElement(F.a,null)))))},M=function(e){var t=e.diff,n=e.button,a=e.setSelectedDiff,r=(e.toggle,Object(D.a)(t)),i=z();return u.a.createElement(R.a,{button:n,className:i.diffItem,onClick:function(){a(t)}},r&&u.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingLeft:7}},n&&u.a.createElement("div",{style:{marginRight:7}}," \u2022 "),u.a.createElement(H.a,{copy:r.titleCopy,fontSize:15})))},_=n(212),G=n(121),V=n(5),$=n.n(V),Q=n(9),Y=n(151),K=n(672),X=n(676),Z=n(674),ee=n(675),te=n(97),ne=n.n(te),ae=n(673),re=n(192),ie=n(269),oe=n(24),ce=n(388),se=u.a.forwardRef((function(e,t){return u.a.createElement(re.a,Object.assign({direction:"up",ref:t},e))}));function le(e){var t=e.open,n=e.close,a=e.canOnlyReset,r=e.captureId,i=Object(l.useState)(""),o=Object(s.a)(i,2),c=o[0],d=o[1],p=Object(l.useState)(!1),f=Object(s.a)(p,2),b=f[0],O=f[1],j=Object(l.useContext)(ve).acceptedSuggestions,w=Object(l.useContext)(be).ignoredDiffs,C=Object(m.d)().specService,x=Object(l.useContext)(h.a).reset,S=Object(E.b)(),k=Object(y.g)(),I=Object(l.useContext)(v.c),D=I.initialEventStore,R=I.rfcId,N=I.clientSessionId,T=I.clientId,P=function(){var e=Object(Q.a)($.a.mark((function e(){var t,n,a,i,o,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.getCopy(R),n=g.opticEngine.com.useoptic.contexts.rfc.Commands,a=n.StartBatchCommit,i=n.EndBatchCommit,o=ne()(),(s=ue(t,R,T,N)).applyCommands(g.JsonHelper.jsArrayToVector([a(o,c)])),j.forEach((function(e){s.applyCommands(g.JsonHelper.seqToVector(e.commands))})),s.applyCommands(g.JsonHelper.jsArrayToVector([i(o)])),e.next=9,C.saveEvents(t,R);case 9:k.push("".concat(S,"/diffs/").concat(r)),setTimeout((function(){Object(oe.b)("Committed Changes to Endpoint",{message:c,captureId:r,suggestions:j.length})}),500);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){var e=j.map((function(e){return"- ".concat(e.pastTenseAction)})).join("\n");d("\n\nChanges:\n".concat(e))}),[t,j.length,w.length]);var A=function(e){return 1!==e.length?"s":""},B=j.length>0;return u.a.createElement(K.a,{open:t,TransitionComponent:se,keepMounted:!0,onClose:n},u.a.createElement(ae.a,null,"Commit changes to API specification"),u.a.createElement(Z.a,null,u.a.createElement(ee.a,null,"You have accepted ",j.length," suggestion",A(j),", and ignored ",w.length," ","diff",A(w),B&&u.a.createElement(ie.a,{multiline:!0,label:"Commit Message:",style:{marginTop:15},value:c,fullWidth:!0,autoFocus:!0,onFocus:function(e){return e.currentTarget.setSelectionRange(0,0)},onChange:function(e){return d(e.target.value)}}))),!B&&u.a.createElement(X.a,null,u.a.createElement(Y.a,{size:"small",onClick:function(){k.push("".concat(S,"/diffs/").concat(r))}},"Return to Capture")),b&&u.a.createElement(ce.a,{variant:"indeterminate"}),B&&!b&&u.a.createElement(X.a,null,a?u.a.createElement(Y.a,{size:"small",onClick:x,color:"default"},"Reset"):u.a.createElement(Y.a,{size:"small",onClick:n,color:"default"},"Close"),u.a.createElement(Y.a,{size:"small",variant:"contained",onClick:Object(Q.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,P();case 3:case"end":return e.stop()}}),e)}))),color:"primary"},"Commit Changes")))}function ue(e,t,n,a){return{applyCommands:function(r){try{var i=ne()(),o=new g.RfcCommandContext(n,a,i);g.Facade.fromCommands(e,t,r,o)}catch(c){console.error(c)}}}}function de(e){var t=e.captureId,n=e.method,a=e.pathId,r=pe(),i=Object(l.useContext)(v.c),o=i.rfcId,c=i.rfcService,d=Object(l.useContext)(h.a).reset,p=Object(l.useContext)(ve).acceptedSuggestions,m=c.currentState(o),b=Object(l.useContext)(f.a).endpointDescriptor,y=Object(l.useContext)(h.a),E=y.diffsForThisEndpoint,O=y.completed,x=Object(l.useState)(null),D=Object(s.a)(x,2),R=D[0],N=D[1],T=Object(l.useState)(!1),P=Object(s.a)(T,2),A=P[0],B=P[1],U=Object(l.useContext)(be).ignoreDiff,F=g.DiffResultHelper.groupEndpointDiffsByRegion(E,m,n,a);Object(l.useEffect)((function(){if(!R){var e=Object(g.getOrUndefined)(F.firstRequestIdWithDiff),t=Object(g.getOrUndefined)(F.firstResponseIdWithDiff);F.newRegionsCount>0?N("new_regions"):e?N(e):t&&N(t)}}));var J=Object(g.mapScala)(F.requestDiffs)((function(e){return u.a.createElement(C.b,{label:Object(g.getOrUndefined)(e.contentType)||"No Body",disabled:0===e.count,value:e.id,count:e.count})})),L=Object(g.mapScala)(F.responseDiffs)((function(e){return[u.a.createElement(S.a,{variant:"overline",className:r.sectionHeader},e.statusCode," Response Body"),Object(g.mapScala)(e.regions)((function(e){return u.a.createElement(C.b,{label:Object(g.getOrUndefined)(e.contentType)||"No Body",value:e.id,disabled:0===e.count,count:e.count})})),u.a.createElement(j.b,{style:{marginTop:16,marginBottom:16}})]}));return Object(l.useEffect)((function(){(A||O&&F.empty)&&Object(oe.b)("Rendered Finalize Card")}),[A,O,F.empty]),u.a.createElement("div",{className:r.container},u.a.createElement("div",{className:r.navigationContainer},u.a.createElement("div",{className:r.navRoot},u.a.createElement("div",{className:r.header},u.a.createElement(S.a,{variant:"subtitle2",className:r.title},b.endpointPurpose||"Unnamed Endpoint"),u.a.createElement(k.c,{method:b.httpMethod,path:b.fullPath})),u.a.createElement(j.b,null),u.a.createElement("div",{className:r.suggestionsBox},u.a.createElement(S.a,{variant:"caption",className:r.suggestionsCount},p.length," approved"),u.a.createElement("div",{style:{flex:1}}),u.a.createElement(Y.a,{size:"small",color:"primary",onClick:d,classes:{root:r.buttonSmall}},"Reset"),u.a.createElement(Y.a,{size:"small",color:"primary",onClick:function(){return B(!0)},classes:{root:r.buttonSmall}},"Commit")),u.a.createElement(j.b,null),u.a.createElement("div",{className:r.tabScroll},u.a.createElement(w.a,{orientation:"vertical",className:r.tabs,onChange:function(e,t){t!==R&&N(t)},value:R},u.a.createElement(C.b,{label:"Loading",value:null,style:{display:"none"}}),u.a.createElement(C.b,{label:"Review New Regions",value:"new_regions",count:F.newRegionsCount,disabled:!F.newRegionsCount,style:{marginBottom:17}}),J.length>0&&u.a.createElement(S.a,{variant:"overline",className:r.sectionHeader},"Request Body Diffs"),J,J.length>0&&u.a.createElement(j.b,{style:{marginTop:16,marginBottom:16}}),L)),u.a.createElement(_.a,null))),u.a.createElement("div",{className:r.pageContainer},u.a.createElement("div",{className:r.center},!R&&!O&&u.a.createElement(G.a,{show:!0}),"new_regions"===R&&u.a.createElement(I.b,{ignoreDiff:U,captureId:t,endpointId:a+n,newRegions:g.JsonHelper.seqToJsArray(F.newRegions)}),R&&"new_regions"!==R&&u.a.createElement(W,{captureId:t,key:R,diffs:g.JsonHelper.seqToJsArray(F.bodyDiffsForId(R)),completed:O,tab:R}))),u.a.createElement(le,{captureId:t,open:A||O&&F.empty,canOnlyReset:F.empty&&O,close:function(){return B(!1)}}))}var pe=Object(x.a)((function(e){return{container:{display:"flex",height:"100vh",overflow:"hidden"},navigationContainer:{width:230,overflow:"hidden",display:"flex"},pageContainer:{overflow:"scroll",height:"100vh",justifyContent:"center",flexGrow:1},navRoot:{flexGrow:1,position:"fixed",width:"inherit",height:"100vh",overflowY:"scroll",display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.grey[300]),background:e.palette.grey[100],zIndex:1e3},chips:{marginLeft:10},tabScroll:{paddingTop:16,flexGrow:1,flexShirnk:1,overflow:"scroll"},tabs:{marginLeft:e.spacing(2)},indent:{display:"flex",flexDirection:"column",marginLeft:e.spacing(1)},center:{flex:1,maxWidth:1200,paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:400,margin:"0 auto"},statsSection:{display:"flex",flexDirection:"row",alignItems:"baseline",paddingLeft:e.spacing(1)},progressStats:{paddingLeft:e.spacing(1),color:j.a,flex:1},progressWrapper:{height:6,width:"100%"},header:{display:"flex",flexDirection:"column",flexShrink:1,width:"100%",alignItems:"left",justifyContent:"center",paddingBottom:6,margin:e.spacing(1)},formControl:{paddingLeft:35,paddingRight:15},selectEmpty:{marginTop:e.spacing(2)},stats:{marginTop:20,paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},subStat:{paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},listItemInner:{display:"flex",flexDirection:"column"},row:{marginBottom:11},disabled:{pointerEvents:"none",opacity:.5},paper:{marginBottom:15},diffContainer:{display:"flex",height:"100vh",paddingLeft:32,paddingRight:32,flexDirection:"row",overflow:"scroll",flexGrow:1,flexShrink:1,justifyContent:"center"},diffWrapper:{flex:1,padding:"24px 0px 144px",maxWidth:1280},sectionHeader:{fontWeight:400,fontSize:11,color:j.a},fab:{position:"fixed",bottom:15,right:15},fabLabel:{paddingRight:8},title:{fontSize:14,padding:7,textAlign:"left",marginBottom:4},suggestionsBox:{display:"flex",paddingLeft:18,paddingTop:8,paddingBottom:8,paddingRight:5,flexDirection:"row",alignItems:"center"},suggestionsCount:{fontSize:10,color:j.a},buttonSmall:{fontSize:10,padding:4,minWidth:40}}}));n.d(t,"c",(function(){return ve})),n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return ye}));var fe=g.opticEngine.com.useoptic,me=(fe.diff,fe.JsonHelper),he=me();var ve=u.a.createContext(null);function ge(e){var t=e.children,n=u.a.useState([]),a=Object(s.a)(n,2),r=a[0],i=a[1],o={acceptedSuggestions:r,setAcceptedSuggestions:i,resetAccepted:function(){i([])}};return u.a.createElement(ve.Provider,{value:o},t)}var be=u.a.createContext(null);function ye(e){var t=e.children,n=u.a.useState([]),a=Object(s.a)(n,2),r=a[0],i=a[1],o={ignoreDiff:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i([].concat(Object(c.a)(r),t))},ignoredDiffs:r,resetIgnored:function(){return i([])}};return u.a.createElement(be.Provider,{value:o},t)}function Ee(e,t){return[].concat(Object(c.a)(e),Object(c.a)(t))}var Oe=function(e){var t=e.isLoading,n=(e.session,e.captureId),a=e.children,r=Object(O.c)(),i=r.endpointDiffs,o=r.updatedAdditionalCommands,s=r.diffId,l=r.completed,d=e.setAcceptedSuggestions,p=(e.setSelectedDiff,e.acceptedSuggestions),f=e.ignoredDiffs,m=e.resetIgnored,v=e.resetAccepted,b=e.pathId,y=e.method;if(t)return null;var E=g.DiffResultHelper.diffsForPathAndMethod(he.jsArrayToSeq(i),b,y,he.jsArrayToSeq(f));return u.a.createElement(h.b,{diffId:s,diffsForThisEndpoint:E,completed:l,reset:function(){o([]),m(),v(),Object(oe.b)("Diff Reset",{captureId:n})},acceptSuggestion:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t){var r=[].concat(Object(c.a)(p),t);d(r);var i=r.map((function(e){return he.seqToJsArray(e.commands)})).reduce(Ee,[]);o(i),t.map((function(e){Object(oe.b)("Accept Suggestion",{captureId:n,suggestion:e.action})}))}},acceptedSuggestions:p},a)},je=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=me(),t=this.props,n=t.captureId,a=t.services,r=t.rfcId,i=t.eventStore,o=t.children,c=t.pathId,s=t.method;return u.a.createElement(ge,null,u.a.createElement(be.Consumer,null,(function(t){var l=t.ignoredDiffs,d=t.resetIgnored;return u.a.createElement(ve.Consumer,null,(function(t){var p=t.acceptedSuggestions,f=t.setAcceptedSuggestions,m=t.resetAccepted,h=p.map((function(t){return e.seqToJsArray(t.commands)})).reduce(Ee,[]);return u.a.createElement(b.a,{rfcId:r,eventStore:i.getCopy(r),commands:h,shouldSimulate:!0},u.a.createElement(O.b,Object.assign({captureId:n,pathId:c,method:s,ignoredDiffs:l},a),u.a.createElement(Oe,{pathId:c,method:s,captureId:n,ignoredDiffs:l,resetIgnored:d,resetAccepted:m,setAcceptedSuggestions:f,acceptedSuggestions:p},o)))}))})))}}]),n}(u.a.Component),we=p()(v.f)(je);t.d=p()(m.f)((function(e){var t=Object(l.useContext)(m.a).specStore,n=Object(E.b)(),a=Object(m.d)(),r=e.match.params,i=r.pathId,o=r.method,c=r.captureId;return u.a.createElement(we,{specStore:t,captureId:c,pathId:i,method:o,services:a},u.a.createElement(f.b,{pathId:i,method:o,inContextOfDiff:!0,notFound:u.a.createElement(y.a,{to:"".concat(n,"/diffs")})},u.a.createElement(de,{captureId:c,pathId:i,method:o})))}))},150:function(e,t,n){"use strict";var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n.n(c),l=n(39),u=n.n(l),d=n(50),p=n(23),f=n(681),m=n(391),h=n(62),v=n.n(h),g=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.mainContentMax,r=e.notifications,i=e.children;return s.a.createElement("div",{className:v()(t.root,n)},s.a.createElement("div",{className:t.mainContent,style:{maxWidth:a,width:"100%"}},i),s.a.createElement("div",{className:t.spacer}),s.a.createElement("div",{className:t.right},r))}}]),n}(s.a.Component),b=u()((function(e){return{root:{display:"flex",flexDirection:"row"},mainContent:{},spacer:{flex:1},right:{display:"flex",alignItems:"center"}}}))(g),y=n(18);n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return j}));var E=Object(d.a)(null),O=E.Context,j=E.withContext,w=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={requestContentType:null,responseStatusCode:null,responseContentType:null},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t={setRequestContentType:function(t){return e.setState({requestContentType:t})},setResponseStatusCode:function(t){return e.setState({responseStatusCode:t})},setResponseContentType:function(t){return e.setState({responseContentType:t})},requestContentType:this.state.requestContentType,responseStatusCode:this.state.responseStatusCode,responseContentType:this.state.responseContentType};return s.a.createElement(O.Provider,{value:t},this.props.children)}}]),n}(s.a.Component),C=u()({root:{paddingRight:12,minHeight:"inherit"},indicator:{display:"flex",justifyContent:"center",color:p.h,backgroundColor:"transparent","& > div":{width:"100%",backgroundColor:p.h}}})((function(e){return s.a.createElement(f.a,Object.assign({},e,{TabIndicatorProps:{children:s.a.createElement("div",null)}}))})),x=u()((function(e){return{root:{textTransform:"none",color:"#726e6e",padding:0,marginTop:5,height:25,minHeight:"inherit",minWidth:"inherit",fontWeight:800,fontSize:e.typography.pxToRem(14),marginRight:e.spacing(2),"&:focus":{opacity:1}}}}))((function(e){return s.a.createElement(m.a,Object.assign({disableRipple:!0},e))})),S=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.inRequest,n=(e.responseContentType,e.setResponseContentType),a=e.setResponseStatusCode,r=e.responseStatusCode,i=e.requestContentType,o=e.options,c=e.setRequestContentType;t&&!i&&o.contentTypes.length>0&&c(o.contentTypes[0]),!t&&!r&&o.length>0&&(a(o[0].statusCode),n(o[0].contentTypes[0]))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.notifications,r=e.renderDescription,i=e.inRequest,o=e.requestContentType,c=e.responseContentType,l=e.setRequestContentType,u=e.setResponseContentType,d=e.responseStatusCode,p=e.setResponseStatusCode,f=e.renderResponse,m=e.renderRequest,h=i?o:c,v=i?l:u,g=i?n.contentTypes||[]:(n.find((function(e){return e.statusCode===d}))||{}).contentTypes||[],E=i?m(o):f(d,c),O=r&&(i?r(o):r(d,c));if(i&&0===n.contentTypes.length)return null;if(!i&&0===n.length)return null;var j="".concat(h,"-").concat(d,"-").concat(c);return s.a.createElement("div",{className:t.container,key:j},s.a.createElement(b,{notifications:a},s.a.createElement("div",{className:t.root},s.a.createElement(y.a,{variant:"h5",color:"primary"},i?"Request":"Response"))),O,s.a.createElement("div",{className:t.root},!i&&s.a.createElement(C,{onChange:function(e,t){return p(t)},value:d},n.map((function(e,t){var n=e.statusCode;return s.a.createElement(x,{label:n,value:n})}))),s.a.createElement("div",{style:{flex:1}}),s.a.createElement(C,{value:h,onChange:function(e,t){return v(t)}},g.map((function(e){return s.a.createElement(x,{label:e,value:e})})))),s.a.createElement("div",{className:t.content},E))}}]),n}(s.a.Component);t.b=j(u()((function(e){return{container:{marginBottom:45},root:{marginTop:15,display:"flex",flex:1},content:{paddingRight:12,paddingTop:15}}}))(S))},16:function(e,t,n){"use strict";n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return E}));var a=n(0),r=n.n(a),i=n(99),o=n(23),c=n(30),s=n(39),l=n.n(s),u=n(397),d=n(3),p=n(18),f=n(46),m=Object(i.a)((function(e){return{root:{paddingTop:10,paddingBottom:10,backgroundColor:"#16203F",position:"relative"},nested:{paddingTop:10,marginTop:17,paddingBottom:10,backgroundColor:"#1c274b"},row:{display:"flex",padding:0,paddingLeft:4,flexDirection:"row"},rowWithHover:{cursor:"pointer","&:hover":{backgroundColor:"rgba(78,165,255,0.27) !important"},"&:hover .descriptionButton":{display:"inherit !important"}},rowCompass:{width:"100%",position:"fixed",display:"flex",justifyContent:"flex-end",paddingLeft:8,cursor:"pointer",animation:"$compassHover 3s ease-in-out infinite",opacity:0,willChange:"opacity",transition:"0.1s ease-out opacity","&$isAbove":{top:e.spacing(15),opacity:1},"&$isBelow":{bottom:e.spacing(4),opacity:1}},"@keyframes compassHover":{"0%":{transform:"translateY(-2px)"},"50%":{transform:"translateY(2px)"},"100%":{transform:"translateY(-2px)"}},isAbove:{},isBelow:{},rowCompassBody:{position:"relative",padding:e.spacing(.8,1),marginRight:8,flexShrink:0,flexGrow:1,borderRadius:15},rowCompassDirection:{position:"absolute",left:"50%",marginLeft:-10,width:e.typography.pxToRem(20),height:e.typography.pxToRem(20),flexGrow:0,flexShrink:0,fill:"#f8edf4",opacity:0},rowCompassDirectionDown:{"$isBelow &":{bottom:-28,opacity:1}},rowCompassDirectionUp:{"$isAbove &":{top:-28,opacity:1}},fieldDescription:{flex:1,alignItems:"center",paddingRight:15,display:"flex"},stayHighlighted:{backgroundColor:"rgba(78,165,255,0.27) !important"},menu:{userSelect:"none"},suggestion:{fontStyle:"italic",color:"white",flex:1,textAlign:"right",paddingRight:10},hiddenItem:{color:"#070707",fontSize:10,paddingLeft:7,paddingRight:7,backgroundColor:"#ababab",borderRadius:12},symbols:{color:"#cfcfcf",fontWeight:800,fontFamily:"'Source Code Pro', monospace"},value:{fontWeight:600,fontFamily:"'Source Code Pro', monospace"},fieldName:{fontWeight:600,color:"#cfcfcf",fontSize:12,fontFamily:"'Source Code Pro', monospace"},indexMarker:{fontWeight:500,color:"#9cdcfe",fontSize:12,fontFamily:"'Source Code Pro', monospace"},rowContents:{display:"flex",alignItems:"baseline",justifyContent:"center",flexDirection:"row"},left:{flexGrow:1,flexShrink:1,overflow:"hidden",display:"flex",paddingTop:3,paddingBottom:3,paddingLeft:5},spacerBorder:{maxWidth:1,backgroundColor:"#4B5A8C",flexGrow:0,flexShrink:0},right:{display:"flex",paddingLeft:5,paddingTop:3,paddingBottom:3,width:"35%",flexGrow:0,flexShrink:0,overflow:"hidden"},typeName:{display:"flex",whiteSpace:"pre",flex:1,fontWeight:600,fontFamily:"'Source Code Pro', monospace"},assertionMet:{display:"flex",flex:1,fontWeight:400,color:"#646464",fontStyle:"italic",fontFamily:"'Source Code Pro', monospace"},diffAssertion:{color:"#f8edf4",flex:1,fontSize:14,fontWeight:800,fontFamily:"'Source Code Pro', monospace"},toolbar:{alignItems:"flex-start",paddingTop:e.spacing(1),paddingBottom:e.spacing(2)},dash:{fontWeight:500,marginLeft:-10,color:o.g},isSticky:{}}})),h=Object(c.f)((function(e){var t=m(),n=Object(a.useContext)(c.a).setShowAllLists,i=e.expandId;return r.a.createElement(v,{placement:"right",title:"(Hidden) Click to Expand"},r.a.createElement("div",{className:t.hiddenItem,onClick:function(){return n(i,!0)}},"\u22ef"))})),v=l()((function(e){return{tooltip:{backgroundColor:"#2A3B72",color:"rgba(247, 248, 240, 1)",boxShadow:e.shadows[1],maxWidth:200,fontSize:11,fontWeight:200,padding:4}}}))(u.a),g={StringColor:"#e29f84",NumberColor:"#09885a",BooleanColor:"#E3662E",ObjectColor:"#30B1C4",ListColor:"#c47078",UnknownColor:"#ffc176",modifier:"#d5d4ff"},b="#cfcfcf",y=function(e){var t=e.typeName,n=(e.style,e.onTypeClick),i=m(),o=Object(a.useContext)(c.c).shapeRender;if(!t)return null;var s=t.asColoredString(o.specShapes);return r.a.createElement("div",{className:i.typeName},Object(d.mapScala)(s)((function(e){if(e.text){var t=Object(d.getOrUndefined)(e.link),a=n&&t;return r.a.createElement("span",{onClick:a&&function(){return n(t)},style:{color:g[e.color]||e.color,whiteSpace:"pre",textDecoration:a&&"underline",cursor:a&&"pointer"}},e.text)}})))};function E(e){var t=e.children,n=e.withIndent,a=m(),i=r.a.createElement(p.a,{variant:"caption",className:a.symbols},t);return n?r.a.createElement(f.b,{add:-1},i):i}},164:function(e,t,n){"use strict";var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n.n(c),l=n(107),u=n(29),d=n(3),p=n(51),f=n(168),m=n.n(f),h=n(377),v=n.n(h),g=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.rfcId,n=e.eventStore,a=e.commands,r=e.shouldSimulate,i=e.specService,o=n.getCopy(t),c=n.serializeEvents(t),p=r?JSON.stringify(Object(d.commandsToJson)(a)):null,f=v()("".concat(c,"+").concat(p));return s.a.createElement(l.b,{instance:"the one in simulated command context",rfcId:t,initialEventsString:c,initialCommandsString:p},s.a.createElement(u.a,{specService:i,initialEventStore:o,key:f},this.props.children))}}]),n}(s.a.Component);t.a=m()(p.f)(g)},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=n(99),o=n(3),c=n(23);function s(e){var t=l(),n=e.copy,a=e.fontSize||13,i=Object(o.mapScala)(n)((function(e){return"normal"===e.style?r.a.createElement("span",{className:t.normal,style:{fontSize:a}},e.value," "):"code"===e.style?r.a.createElement("span",null,r.a.createElement("span",{className:t.code,style:{fontSize:a}},e.value)," "):void 0}));return r.a.createElement("div",null,i)}var l=Object(i.a)((function(e){return{normal:{wordBreak:"break-word",fontFamily:"Ubuntu"},code:{fontFamily:"'Source Code Pro', monospace",fontWeight:600,paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,wordBreak:"break-word",backgroundColor:c.e}}}))},201:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return re})),n.d(t,"b",(function(){return oe}));var a=n(55),r=n(371),i=n(34),o=n(5),c=n.n(o),s=n(9),l=n(8),u=n(0),d=n.n(u),p=n(99),f=n(114),m=n(18),h=n(394),v=n(215),g=n(372),b=n.n(g),y=n(138),E=n.n(y),O=n(389),j=n(680),w=n(679),C=n(13),x=(n(260),n(214)),S=n(266),k=n(65),I=n(188),D=n.n(I),R=n(28),N=n(49),T=n(217),P=n(374),A=n(50),B=n(51),U=n(95),F=n(29),J=n(62),L=n.n(J),H=n(3),z=n(387),W=n(149),q=n(78),M=n(67),_=(n(665),n(96)),G=n(38),V=n(144),$=n(23),Q=n(71),Y=n(383),K=n(44),X=n(681),Z=n(113),ee=(n(666),n(121)),te=n(212),ne=n(24),ae=Object(A.a)(null),re=ae.Context;ae.withContext;function ie(t){var n=Object(G.b)(),a=Object(u.useState)([]),r=Object(l.a)(a,2),o=r[0],p=r[1],f=Object(u.useState)([]),m=Object(l.a)(f,2),h=m[0],v=m[1],g=Object(B.e)(),b=Object(R.g)();function y(){(function(){var e=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listCaptures();case 2:t=e.sent,n=t.captures,p(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}Object(u.useEffect)((function(){y()}),[]),Object(u.useEffect)((function(){return window.addEventListener("focus",y),function(){window.removeEventListener("focus",y)}}),[]),Object(u.useEffect)((function(){e.opticDump=Object(P.a)(g),e.dumpEvents=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listEvents();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}),[]);var E={captures:o,dismissed:h,dismissCapture:function(e){v([].concat(Object(i.a)(h),[e]))},switchToCapture:function(e){b.push("".concat(n,"/diffs/").concat(e))}};return d.a.createElement(re.Provider,{value:E},t.children)}function oe(e){var t=Object(U.a)();return d.a.createElement(_.a,{title:"Review API Diffs"},d.a.createElement(_.a.Navbar,{mini:!0}),d.a.createElement(_.a.Body,{padded:!1},d.a.createElement(ie,null,d.a.createElement(W.b,null,d.a.createElement(R.d,null,d.a.createElement(R.b,{path:t.diffsRoot,component:ce}))))))}var ce=function(e){Object(r.a)(e);ge();var t=Object(U.a)(),n=Object(u.useContext)(re).captures,a=Object(G.b)();return d.a.createElement(R.d,null,d.a.createElement(R.b,{exact:!0,path:t.captureRoot,component:fe}),d.a.createElement(R.b,{exact:!0,path:t.captureRequestDiffsRoot,component:de}),n.length&&d.a.createElement(R.a,{to:"".concat(a,"/diffs/").concat(n[0].captureId)}),d.a.createElement(R.b,{component:function(){return pe}}))},se="ENDPOINT_DIFF",le="UNDOCUMENTED_URL";function ue(t){var n=t.captureId,a=Object(B.e)(),r=ge(),i=Object(u.useContext)(re),o=Object(K.c)(),c=o.endpointDiffs,s=o.unrecognizedUrls,p=(o.completed,o.skipped,o.processed,Object(R.g)()),f=Object(G.b)(),g=c.filter((function(e){return e.count>0&&e.isDocumentedEndpoint})).length,y=c.filter((function(e){return e.isDocumentedEndpoint})).length,x=H.DiffResultHelper.splitUnmatchedUrls(H.JsonHelper.jsArrayToSeq(s),H.JsonHelper.jsArrayToSeq(c)),S=Object(u.useState)(se),k=Object(l.a)(S,2),I=k[0],N=k[1];return Object(u.useEffect)((function(){Object(ne.b)("Changed to ".concat(I),{diffCount:g,undocumentedUrlCount:x.total})}),[I,g,x.total]),Object(u.useEffect)((function(){e.debugOptic=Object(Y.a)(a,n)})),Object(u.useEffect)((function(){0===y&&s.length>0&&N(le)}),[y,s.length]),d.a.createElement("div",{className:r.container},d.a.createElement("div",{className:r.navigationContainer},d.a.createElement("div",{className:r.navRoot},d.a.createElement("div",{className:r.header},d.a.createElement(E.a,{color:"secondary",fontSize:"small",style:{marginRight:10}}),d.a.createElement(m.a,{variant:"h6",style:{fontSize:19}},"Local Capture")),d.a.createElement(O.a,{className:r.formControl,fullWidth:!0},d.a.createElement(j.a,{size:"small",placeholder:"Select Capture",value:n,onChange:function(e){var t=e.target.value;p.push("".concat(f,"/diffs/").concat(t)),window.location.reload()}},i.captures.map((function(e,t){return d.a.createElement(w.a,{value:e.captureId,key:e.captureId},d.a.createElement(h.a,{primary:"".concat(b.a.ago(e.lastUpdate)," ").concat(0===t?"(LATEST) ":""," ")}),d.a.createElement(v.a,null,e.hasDiff&&d.a.createElement(D.a,{fontSize:"small",color:"secondary",style:{marginRight:8,paddingTop:5}})))})))),d.a.createElement(C.b,{style:{marginTop:22,marginBottom:15}}),d.a.createElement(X.a,{orientation:"vertical",className:r.tabs,onChange:function(e,t){return N(t)},value:I},d.a.createElement(Z.a,{label:"Endpoint Diffs (".concat(g," / ").concat(y,") "),value:se}),d.a.createElement(Z.a,{label:"Undocumented URLs (".concat(x.total,")"),value:le})),d.a.createElement(C.b,{style:{marginTop:22,marginBottom:15}}),d.a.createElement("div",{style:{flex:1}}),d.a.createElement(te.a,{showSkipped:!0}))),d.a.createElement("div",{className:r.pageContainer},d.a.createElement("div",{className:r.center},se===I&&d.a.createElement(me,{captureId:n}),le===I&&d.a.createElement(he,{captureId:n,urlsSplit:x}))))}function de(e){Object(B.e)(),ge();return d.a.createElement(W.d,e)}var pe=d.a.createElement(V.a,{title:"Optic has not observed any traffic",content:"\nRun `api start` and send the API some traffic\n\nNot setup yet? Follow the [Getting Started Tutorial](".concat(Q.a,")\n").trim()});function fe(e){var t=e.match.params.captureId,n=(ge(),Object(u.useContext)(F.c),Object(B.d)());return d.a.createElement(W.a.Consumer,null,(function(e){var a=e.ignoredDiffs;e.resetIgnored;return d.a.createElement(K.b,Object.assign({captureId:t,ignoredDiffs:a},n),d.a.createElement(ue,{captureId:t}))}))}function me(e){var t=e.captureId,n=ge(),r=Object(K.c)(),i=r.endpointDiffs,o=r.completed,c=(Object(R.g)(),Object(G.b)()),s=i.filter((function(e){return e.isDocumentedEndpoint})),l=s.length,u=s.some((function(e){return e.count>0}));return 0!==l||o?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:n.stats},d.a.createElement(m.a,{variant:"h6",color:"primary",style:{fontWeight:200}},u?"Some endpoints are exhibiting undocumented behavior":"All endpoints are working as specified")),d.a.createElement(S.a,{style:{padding:13,paddingTop:4}},i.map((function(e){if(!e.isDocumentedEndpoint)return null;var r="".concat(c,"/diffs/").concat(t,"/paths/").concat(e.pathId,"/methods/").concat(e.method);return d.a.createElement(M.b,{key:r,pathId:e.pathId,method:e.method},d.a.createElement(f.a,{className:L()(n.paper,Object(a.a)({},n.disabled,0===e.count))},d.a.createElement(M.a.Consumer,null,(function(t){var a=t.endpointDescriptor;return d.a.createElement(x.a,{button:!0,className:n.row,component:N.b,to:r,onClick:function(){Object(ne.b)("Viewing Endpoint Diff",e)}},d.a.createElement("div",{className:n.listItemInner},d.a.createElement(m.a,{component:"div",variant:"subtitle2"},a.endpointPurpose||d.a.createElement("span",{style:{color:C.a}},"Unamed Endpoint")),d.a.createElement(k.a,{method:a.httpMethod,path:a.fullPath})),d.a.createElement(v.a,null,d.a.createElement(q.b,{when:e.count>0},d.a.createElement(T.a,{className:n.chips,size:"small",label:"Diffs: ".concat(e.count),style:{backgroundColor:$.b}})),d.a.createElement(q.b,{when:0===e.count},d.a.createElement(T.a,{className:n.chips,size:"small",label:"No Diffs",style:{backgroundColor:$.a}}))))}))))})))):d.a.createElement(ee.b,{show:!0})}function he(e){var t=e.captureId,n=e.urlsSplit,a=ge(),r=Object(R.g)(),i=Object(K.c)(),o=(i.unrecognizedUrls,i.endpointDiffs,i.completed),c=Object(G.b)(),s=H.JsonHelper.seqToJsArray(n.undocumented),p=H.JsonHelper.seqToJsArray(n.allPaths),f=H.JsonHelper.seqToJsArray(n.urls),h=Object(u.useState)(null),g=Object(l.a)(h,2),b=g[0],y=g[1];return 0!==f.length||0!==s.length||o?d.a.createElement(d.a.Fragment,null,b&&d.a.createElement(z.a,{onClose:function(){return y(null)},allUnmatchedPaths:p,urlOverride:b.override,newUrl:b,onAdd:function(e){var n=e.pathId,a=e.method,i="".concat(c,"/diffs/").concat(t,"/paths/").concat(n,"/methods/").concat(a);r.push(i)}}),d.a.createElement("div",{className:a.stats},d.a.createElement(m.a,{variant:"h6",color:"primary",style:{fontWeight:200}},"Optic observed"," ",d.a.createElement(ve,{number:n.totalCount||0,label:"undocumented url"}),".")),d.a.createElement(q.a,{when:n.totalCount>=250},d.a.createElement("div",{className:a.subStat},d.a.createElement(m.a,{variant:"caption",style:{color:C.c}},"Showing ",f.length," undocumented URLs. Start documenting the new endpoints or ignore the paths in your optic.yml file."))),d.a.createElement(q.a,{when:s.length},d.a.createElement(m.a,{variant:"subtitle2",color:"primary",style:{padding:9}},"Ready to Document"),d.a.createElement(S.a,{style:{marginBottom:12}},s.map((function(e){var t=d.a.createElement(M.c,{pathId:Object(H.getOrUndefined)(e.pathId)});return d.a.createElement(x.a,{button:!0,className:a.row,divider:!0,onClick:function(){y({pathId:e.pathId,path:e.path,method:e.method,override:t})}},d.a.createElement("div",{className:a.listItemInner},d.a.createElement(k.a,{method:e.method,path:t})),d.a.createElement(v.a,null,d.a.createElement(T.a,{className:a.chips,size:"small",label:e.count+" observations",style:{backgroundColor:$.a}})))}))),f.length>0&&d.a.createElement(m.a,{variant:"subtitle2",color:"primary",style:{padding:9}},"Unrecognized URLs")),d.a.createElement(S.a,null,f.map((function(e){return d.a.createElement(x.a,{button:!0,className:a.row,divider:!0,onClick:function(){y(e)}},d.a.createElement("div",{className:a.listItemInner},d.a.createElement(k.a,{method:e.method,path:e.path})),d.a.createElement(v.a,null,d.a.createElement(T.a,{className:a.chips,size:"small",label:e.count+" observations",style:{backgroundColor:$.a}})))})))):d.a.createElement(ee.b,{show:!0})}var ve=function(e){var t=e.number,n=e.label;return d.a.createElement("span",null,0!==t&&d.a.createElement(m.a,{variant:"h6",component:"span",color:"secondary",style:{fontWeight:800}},t," "),d.a.createElement(m.a,{variant:"h6",component:"span",style:{fontWeight:800}},0===t&&"no ",n,1===t?"":"s"))},ge=Object(p.a)((function(e){return{container:{display:"flex",height:"100vh",overflow:"hidden"},navigationContainer:{width:280,overflow:"hidden",display:"flex"},pageContainer:{display:"flex",flexGrow:1,flexShrink:1,overflow:"scroll",height:"100vh",justifyContent:"center"},navRoot:{flexGrow:1,position:"fixed",width:"inherit",height:"100vh",overflowY:"scroll",display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.grey[300]),background:e.palette.grey[100]},chips:{marginLeft:10},tabs:{marginLeft:e.spacing(4)},center:{flex:1,paddingBottom:300,maxWidth:1200},statsSection:{paddingBottom:e.spacing(2)},progressStats:{paddingLeft:e.spacing(1),color:C.a},progressWrapper:{height:6,width:"100%"},header:{display:"flex",flexDirection:"row",flexShrink:1,width:"100%",alignItems:"center",margin:e.spacing(2)},formControl:{paddingLeft:35,paddingRight:15},selectEmpty:{marginTop:e.spacing(2)},stats:{marginTop:20,paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},subStat:{paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},listItemInner:{display:"flex",flexDirection:"column"},row:{paddingTop:10,paddingBottom:10},disabled:{pointerEvents:"none",opacity:.5},paper:{marginBottom:15},diffContainer:{display:"flex",height:"100vh",paddingLeft:32,paddingRight:32,flexDirection:"row",overflow:"scroll",flexGrow:1,flexShrink:1,justifyContent:"center"},diffWrapper:{flex:1,padding:"24px 0px 144px",maxWidth:1280}}}))}).call(this,n(32))},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpecServiceClient=t.Client=void 0;var a=n(458);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return a.Client}});var r=n(461);Object.defineProperty(t,"SpecServiceClient",{enumerable:!0,get:function(){return r.Client}})},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3);function r(e,t,n){return[a.RfcCommands.AddContribution(e,t,n)]}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(0),r=n.n(a),i=n(99),o=n(268),c=n(13),s=n(683),l=n(686),u=n(392),d=n(389),p=n(151),f=n(63),m=n(3),h=n(149),v=n(90),g=(n(261),n(169)),b=Object(i.a)((function(e){return{root:{position:"sticky",top:120},header:{display:"flex",alignItem:"center",justifyContent:"center",paddingLeft:11,paddingTop:14,paddingBottom:9},font:{fontSize:13,fontWeight:800,fontFamily:"'Source Code Pro', monospace"},icon:{paddingRight:0},formControl:{margin:e.spacing(1),marginLeft:e.spacing(1)+7,marginBottom:7},suggestion:{fontWeight:400,marginLeft:-5,fontSize:12},buttons:{textAlign:"right",padding:8}}})),y=function(e){var t=b(),n=e.inRequest,i=e.inResponse,y=e.description,O=e.currentInteraction,j=e.selectedInterpretation,w=e.setSelectedInterpretation,C=e.setSelectedDiff,x=e.selectedDiff,S=Object(a.useContext)(f.a),k=S.acceptSuggestion,I=(S.clearPreview,Object(v.d)(x,O));return x&&x.inRequest&&n||x.inResponse&&i?r.a.createElement("div",{className:t.root},r.a.createElement(o.a,{elevation:3},r.a.createElement("div",{className:t.header},r.a.createElement(g.a,{copy:y.summary}),r.a.createElement("div",{style:{flex:1,minWidth:20}}),r.a.createElement(E,null)),r.a.createElement(c.b,null),r.a.createElement(d.a,{component:"fieldset",className:t.formControl},r.a.createElement(l.a,null,I.map((function(e,t){return r.a.createElement(u.a,{key:t,onClick:function(){return w(e)},control:r.a.createElement(s.a,{size:"small",color:"primary",value:e,checked:Boolean(j&&m.CompareEquality.betweenWithoutCommands(e,j))}),label:r.a.createElement(g.a,{copy:e.copyPair.action})})})))),r.a.createElement(c.b,null),r.a.createElement("div",{className:t.buttons},r.a.createElement(h.a.Consumer,null,(function(e){var t=e.ignoreDiff;return r.a.createElement(p.a,{size:"small",onClick:function(){var e=x.diff;C(null),t(e)}},"Ignore")})),r.a.createElement(p.a,{color:"primary",size:"small",disabled:!j,onClick:function(){C(null),k(j)}},"Approve")))):null},E=function(){return r.a.createElement("div",{className:"blob",style:{marginRight:9}},r.a.createElement("img",{src:"/optic-logo.svg",width:32,height:32}))}},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n.n(a),i=n(395),o=n(18),c=n(99),s=n(44),l=n(13),u=(n(23),n(267));function d(e){var t=e.showSkipped,n=p(),a=Object(s.c)(),c=a.processed,l=a.skipped,d=a.completed;return r.a.createElement("div",{className:n.statsSection},r.a.createElement("div",{style:{marginTop:7}},r.a.createElement(u.a,{in:!d},r.a.createElement(i.a,{size:12,variant:"indeterminate"}))),r.a.createElement(o.a,{component:"div",variant:"overline",style:{fontSize:12},className:n.progressStats},c," processed ",t&&" | ".concat(l," skipped")))}var p=Object(c.a)((function(e){return{progressStats:{paddingLeft:e.spacing(1),color:l.a,flex:1},statsSection:{display:"flex",flexDirection:"row",paddingLeft:e.spacing(2)}}}))},23:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return w}));var a=n(117),r="#31366f",i="#ea4a61",o="#2b7bd1",c="rgba(43,123,209,0.11)",s="rgba(0,196,70,0.3)",l="rgba(252,171,16,0.3)",u="rgba(248,51,60,0.3)",d="#686868",p="#52e2a3",f="#5aaad1",m="#ee7517",h="#c8a5dc",v="#cd8d8c",g="#686868",b="#276c4e",y="#264859",E="#69340a",O="#796384",j="#634444",w=Object(a.a)({palette:{primary:{main:r},secondary:{main:i},updated:{main:o,background:c},added:{main:"#17c8a3",background:s},removed:{main:"#c86363",background:u},httpMethods:{OPTIONS:{main:d,dark:g},GET:{main:p,dark:b},POST:{main:f,dark:y},PUT:{main:m,dark:E},PATCH:{main:h,dark:O},DELETE:{main:v,dark:j}}},typography:{fontFamily:["Ubuntu","Inter"]}})},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return E}));var a=n(26),r=n(15),i=n(21),o=n(22),c=n(5),s=n.n(c),l=n(9),u=n(207),d=n(68),p=n.n(d),f=n(376),m=f.version,h=window.opticAnalyticsEnabled,v=new Promise(function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new u.Client("/api"),!h){e.next=16;break}return e.next=4,n.getIdentity();case 4:if(!(a=e.sent).ok){e.next=13;break}return e.next=8,a.json();case 8:r=e.sent,i=r.user,window.FS.identify(i.sub,{displayName:i.name,email:i.email}),window.analytics.identify(i.sub,{name:i.name,email:i.email}),window.Intercom("update",{name:i.name,email:i.email});case 13:t(),e.next=19;break;case 16:console.warn("Analytics is disabled");try{window.FS.shutdown()}catch(o){}t();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function g(){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v;case 2:console.log("analytics loaded");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=new(function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(p.a));function E(e,t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v;case 2:h&&(r=Object(a.a)(Object(a.a)({},n),{},{opticVersion:m}),window.analytics.track(t,r),window.FS.event(t,r)),y.emit("event",t,n||{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(55);var a=n(26),r=n(0),i=n.n(r),o=n(18),c=n(13);function s(e){var t=e.title,n=e.children,r=e.style,s=e.innerStyle;return i.a.createElement("div",{style:Object(a.a)({marginTop:11},r)},i.a.createElement("div",null,i.a.createElement(o.a,{variant:"overline",style:c.e},t),i.a.createElement(c.b,null)),i.a.createElement("div",{style:s},n))}},263:function(e,t,n){"use strict";var a=n(79),r=n(31);n(15),n(17);function i(e){return e&&e.ShapedBodyDescriptor?e.ShapedBodyDescriptor:{}}var o=n(272),c=n.n(o);function s(e){var t=e.method,n=e.pathId;return Object(r.c)(n,t)}function l(e,t){var n,o=e.method,l=e.pathId,u=t.requests,d=t.pathsById,p=t.requestIdsByPathId,f=t.responsesArray,m=t.contributions,h=s({pathId:l,method:o}),v=(p[l]||[]).map((function(e){return u[e]})).filter((function(e){return e.requestDescriptor.httpMethod===o.toUpperCase()})),g=[];try{var b=Object(a.b)(l,d);n=b.map((function(e){return d[e]})).map((function(e){return{pathComponentName:Object(a.d)(e),pathComponentId:e.pathId}})).map((function(e){return e.pathComponentName})).join("/"),g=b.map((function(e){return d[e]})).filter((function(e){return Object(a.e)(e)})).map((function(e){return{pathId:e.pathId,name:e.descriptor.ParameterizedPathComponentDescriptor.name,description:m.getOrUndefined(e.pathId,r.a)}}))}catch(O){console.error(O)}if(!n)return null;var y=v.map((function(e){return{requestId:e.requestId,requestBody:i(e.requestDescriptor.bodyDescriptor)}})),E=c()(f.filter((function(e){return e.responseDescriptor.httpMethod===o.toUpperCase()&&e.responseDescriptor.pathId===l})).map((function(e){var t=e.responseId,n=e.responseDescriptor;return{responseId:t,responseBody:i(n.bodyDescriptor),statusCode:n.httpStatusCode}})),["statusCode"]);return{httpMethod:o,method:o,pathId:l,fullPath:n,pathParameters:g,requestBodies:y,responses:E,endpointPurpose:m.getOrUndefined(h,r.b),endpointDescription:m.getOrUndefined(h,r.a),isEmpty:0===y.length&&0===E.length}}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}))},29:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return y}));var a=n(5),r=n.n(a),i=n(9),o=n(8),c=n(0),s=n(3),l=n(50),u=n(107),d=n(200),p=n.n(d),f=n(139),m=n(97),h=n.n(m),v=n(370),g=(n(436),Object(l.a)(null)),b=g.Context,y=g.withContext;function E(e){var t=e.contributions(),n=e.requestsState(),a=n.requests,r=n.pathComponents,i=n.responses,c=n.requestParameters,s=e.pathsWithRequests(),l=r,u=new Set(Object.values(s)),d=e.endpoints(),p=e.shapesState(),f=e.shapesResolvers(),m=Object.entries(s).reduce((function(e,t){var n=Object(o.a)(t,2),a=n[0],r=n[1],i=e[r]||[];return i.push(a),e[r]=i,e}),{});return{contributions:t,requests:a,requestParameters:c,responses:i,responsesArray:Object.values(i),pathIdsByRequestId:s,requestIdsByPathId:m,pathsById:l,endpoints:d,pathIdsWithRequests:u,shapesState:p,shapesResolvers:f}}function O(t){var n=Object(c.useContext)(v.a),a=n.clientId,r=n.clientSessionId,i=Object(c.useContext)(u.a),l=Object(c.useState)(null),d=Object(o.a)(l,2),p=d[0],f=d[1],m=Object(c.useState)(null),g=Object(o.a)(m,2),y=g[0],O=g[1],j=Object(c.useState)(0),w=Object(o.a)(j,2),C=(w[0],w[1]),x=i.initialCommandsString,S=i.initialEventsString,k=i.rfcId;if(Object(c.useEffect)((function(){try{var t=s.Facade.makeEventStore();e.eventStore=t,S&&t.bulkAdd(k,S);var n=new s.RfcCommandContext(a,r,"initial-batch"),i=s.Facade.fromJsonCommands(t,k,x||"[]",n);O({rfcService:i,eventStore:t})}catch(o){f(o)}}),[x,S]),!y)return null;if(p)return console.error(p),c.createElement("div",null,"Error! :(");var I=y.rfcService,D=y.eventStore,R=(t.initialEventStore||D).getCopy(k);function N(){var e=h()(),n=new s.RfcCommandContext(a,r,e);try{for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];I.handleCommands.apply(I,[k,n].concat(o)),C((function(e){return e+1})),t.onChange&&t.onChange({rfcId:k,eventStore:D,rfcService:I})}catch(l){f(l)}}var T=N,P=Object(s.Queries)(D,I,k),A=E(P),B=(t.specService,{rfcId:k,clientSessionId:r,clientId:a,rfcService:I,initialEventStore:R,eventStore:D,queries:P,cachedQueryResults:A,handleCommand:T,handleCommands:N});return c.createElement(b.Provider,{value:B},t.children)}e.commands=[],e.getCommandsAsJson=function(){return Object(s.commandsToJson)(e.commands)};var j=O;function w(e){var t=Object(f.useSnackbar)().enqueueSnackbar,n=e.specService;function a(){return(a=Object(i.a)(r.a.mark((function e(a){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.eventStore,o=a.rfcId,e.prev=1,e.next=4,n.saveEvents(i,o);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),t("Unable to save changes. Please make sure the CLI is still running.",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return c.createElement(j,{onChange:p()((function(e){return a.apply(this,arguments)}),4e3,{leading:!0,trailing:!0})},e.children)}var C=O}).call(this,n(32))},30:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var a=n(15),r=n(17),i=n(21),o=n(22),c=n(8),s=n(0),l=n.n(s),u=n(50),d=Object(u.a)(null),p=d.Context,f=d.withContext;function m(e){var t=Object(s.useState)({isAbove:!1,isBelow:!1,x:null,width:null}),n=Object(c.a)(t,2),a=n[0],r=n[1],i={shapeRender:e.shape,rootId:e.shape.rootId,diffDescription:e.diffDescription,suggestion:e.suggestion,diff:e.diff,exampleOnly:e.exampleOnly,hideDivider:e.hideDivider,compassState:a,setCompassState:r};return l.a.createElement(p.Provider,{value:i},e.children)}function h(){var e=Object(s.useContext)(p);if(!e)throw Error("useDiff can only be used inside provided ShapeRenderContext");return{diff:e.diff,diffDescription:e.diffDescription}}var v=Object(u.a)(null),g=v.Context,b=(v.withContext,function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={collapsedIds:new Set,showAllLists:new Set},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t={collapsedIds:Array.from(this.state.collapsedIds),showAllLists:Array.from(this.state.showAllLists),setCollapsedIds:function(t,n){n?e.state.collapsedIds.add(t):e.state.collapsedIds.delete(t),e.setState({collapsedIds:e.state.collapsedIds})},setShowAllLists:function(t,n){n?e.state.showAllLists.add(t):e.state.showAllLists.delete(t),e.setState({showAllLists:e.state.showAllLists})}};return l.a.createElement(g.Provider,{value:t},this.props.children)}}]),n}(l.a.Component))},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var a="purpose",r="description",i=function(e,t){return"".concat(e,".").concat(t.toUpperCase())}},364:function(e,t,n){"use strict";var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n.n(c),l=n(39),u=n.n(l),d=n(114),p=n(18),f=n(395),m=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},s.a.createElement(d.a,{elevation:2,className:e.loaderCenter},s.a.createElement(f.a,{disableShrink:!0,thickness:5,style:{marginRight:22},size:25}),s.a.createElement(p.a,{variant:"h4",color:"primary"},"Loading API...")))}}]),n}(s.a.Component);t.a=u()((function(e){return{root:{backgroundColor:"#fafafa",display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center"},loaderCenter:{width:320,height:120,marginTop:200,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}))(m)},370:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n.n(c),l=n(50),u=n(97),d=n.n(u)()(),p=Object(l.a)({clientSessionId:d,clientId:"anonymous"}),f=p.Context;p.withContext,s.a.Component},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5),r=n.n(a),i=n(9);function o(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,o,c,s,l,u,d,p,f,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.outputFileName,i=n.downloadSourcePath,o=n.downloadDestinationPath,t.next=3,e.listEvents();case 3:return c=t.sent,t.next=6,e.listCaptures();case 6:return s=t.sent,l=s.captures[0].captureId,t.next=10,e.listCapturedSamples(l);case 10:return u=t.sent,d=JSON.stringify({events:JSON.parse(c),session:u,examples:{}},null,2),p=new Blob([d],{type:"application/json"}),f=window.URL.createObjectURL(p),(m=document.createElement("a")).href=f,m.download=a,console.log(m),m.click(),t.abrupt("return",'mv "'.concat(i,"/").concat(a,'" "').concat(o,"/").concat(a,'"'));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},376:function(e){e.exports={name:"@useoptic/ui",version:"8.2.8",files:["build","index.js","index.d.ts"],repository:{type:"git",url:"ssh://git@github.com/useoptic/optic-package.git",directory:"workspaces/ui"},dependencies:{"@material-ui/core":"^4.9.7","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.46","@useoptic/cli-client":"8.2.8","@useoptic/domain":"10.0.3","@useoptic/domain-utilities":"10.0.3",bottleneck:"^2.19.5",camelcase:"^5.2.0",classnames:"^2.2.6",color:"^3.1.2","date-fns":"^2.11.1","lodash.compose":"^2.4.1","lodash.debounce":"^4.0.8","lodash.groupby":"^4.6.0","lodash.sortby":"^4.7.0","memoize-weak":"^1.0.2","mini-css-extract-plugin":"0.5.0","node-sha1":"^1.0.1",notistack:"^0.8.6","path-to-regexp":"^3.0.0","prop-types":"latest",react:"^16.8.6","react-ace":"^8.0.0","react-dom":"^16.8.6","react-helmet":"5.2.1","react-hook-form":"^3.27.0","react-markdown":"^4.2.2","react-minimal-pie-chart":"^6.0.1","react-router-dom":"^5.1.2","react-scroll-into-view-if-needed":"^2.1.7",reactour:"^1.18.0",resolve:"1.10.0","scroll-into-view-if-needed":"^2.2.24","styled-components":"^5.1.1","time-ago":"^0.2.1","ts-pnp":"1.1.2","url-loader":"1.1.2"},node:{fs:"empty"},scripts:{start:"node --max-old-space-size=8192 scripts/start.js","start-local":"node --max-old-space-size=8192 scripts/start-local.js",build:"node --max-old-space-size=8192 scripts/build.js","build-local":"node --max-old-space-size=8192 scripts/build-local.js",test:"node scripts/test.js",storybook:"start-storybook -p 9009 -s public","build-storybook":"build-storybook -s public","ws:build":"echo building ui","ws:clean":"rm -rf build/*","ws:test":"echo ui",prepare:"CI='' yarn run build-local"},eslintConfig:{extends:"react-app"},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]},devDependencies:{"@babel/core":"7.4.3","@babel/plugin-proposal-decorators":"^7.4.4","@pmmmwh/react-refresh-webpack-plugin":"^0.2.0","@storybook/addon-actions":"^5.0.11","@storybook/addon-links":"^5.0.11","@storybook/addons":"^5.0.11","@storybook/preset-create-react-app":"^2.1.1","@storybook/react":"^5.0.11","@types/node":"^13.11.1","@types/react":"^16.9.34","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"1.6.0","@typescript-eslint/parser":"1.6.0","babel-eslint":"^10.1.0","babel-loader":"8.0.5","babel-plugin-named-asset-import":"^0.3.2","babel-preset-react-app":"^9.0.0","case-sensitive-paths-webpack-plugin":"2.2.0","css-loader":"2.1.1",dotenv:"6.2.0","dotenv-expand":"4.2.0",eslint:"^5.16.0","eslint-config-react-app":"^4.0.1","eslint-loader":"2.1.2","eslint-plugin-flowtype":"2.50.1","eslint-plugin-import":"2.16.0","eslint-plugin-jsx-a11y":"6.2.1","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^1.5.0","file-loader":"3.0.1","html-webpack-plugin":"4.0.0-beta.5","is-wsl":"^1.1.0",jest:"24.7.1","optimize-css-assets-webpack-plugin":"5.0.1","pnp-webpack-plugin":"^1.6.4","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"7.0.1","postcss-preset-env":"6.6.0","postcss-safe-parser":"4.0.1","react-dev-utils":"^9.0.1","react-refresh":"^0.8.1","sass-loader":"^8.0.2","sockjs-client":"^1.4.0","style-loader":"0.23.1","terser-webpack-plugin":"3.0.0",webpack:"4.29.6","webpack-dev-server":"3.2.1","webpack-manifest-plugin":"2.0.4","workbox-webpack-plugin":"4.2.0"},jest:{collectCoverageFrom:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],setupFiles:["react-app-polyfill/jsdom"],setupFilesAfterEnv:[],testMatch:["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],testEnvironment:"jest-environment-jsdom-fourteen",transform:{"^.+\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},transformIgnorePatterns:["[/\\\\]node_modules[/\\\\].+\\.(js|jsx|ts|tsx)$","^.+\\.module\\.(css|sass|scss)$"],modulePaths:[],moduleNameMapper:{"^react-native$":"react-native-web","^.+\\.module\\.(css|sass|scss)$":"identity-obj-proxy"},moduleFileExtensions:["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],watchPlugins:["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},proxy:"http://localhost:34444",babel:{presets:["react-app"],plugins:[["@babel/plugin-proposal-decorators",{legacy:!0}],["@babel/plugin-proposal-class-properties",{loose:!0}]]}}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(0),r=n.n(a).a.createContext(null);r.displayName="BaseUrlContext";var i=r.Provider;function o(){return Object(a.useContext)(r).url}},383:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5),r=n.n(a),i=n(9);function o(e,t){return Object(i.a)(r.a.mark((function n(){var a,i,o,c,s,l,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.listEvents();case 2:return a=n.sent,n.next=5,e.listCapturedSamples(t);case 5:i=n.sent,o=JSON.parse(JSON.stringify(i)),console.log("sanitizing data..."),o.samples.forEach((function(e){e.request.body.value.asJsonString=null,e.request.body.value.asText=null,e.response.body.value.asJsonString=null,e.response.body.value.asText=null})),c=JSON.stringify({events:JSON.parse(a),session:o,examples:{}},null,2),s=new Blob([c],{type:"application/json"}),l=window.URL.createObjectURL(s),(u=document.createElement("a")).href=l,u.download="debug-capture-".concat(t,"-").concat(Math.floor(Date.now()/1e3),".json"),console.log(u),u.click();case 17:case"end":return n.stop()}}),n)})))}},385:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},386:function(e,t,n){"use strict";var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n.n(c),l=(n(419),n(720)),u=n(23),d=n(49),p=n(28),f=n(139),m=n(286),h=n(197),v=n(5),g=n.n(v),b=n(9),y=n(8),E=n(84),O=n(51),j=n(388),w=n(29),C=n(107),x=n(68),S=n.n(x);function k(e){var t=e.diffServiceFactory,n=e.captureServiceFactory,a=Object(E.b)(),r=Object(c.useState)(null),i=Object(y.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(null),d=Object(y.a)(u,2),p=d[0],f=d[1];return Object(c.useEffect)((function(){if(!a.available||!a.loading){var e=function(){return function(e){return D.apply(this,arguments)}(a.data)};(function(){var t=Object(b.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,a=n.specService,l(a),a.eventEmitter.on("events-updated",Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.listEvents();case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[a.available,a.loading]),Object(c.useEffect)((function(){o&&function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.listEvents();case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o]),p?s.a.createElement(O.b,{specService:o,specServiceEvents:o.eventEmitter,diffServiceFactory:t,captureServiceFactory:n},s.a.createElement(C.b,{initialEventsString:p,rfcId:"testRfcId",instance:"the one in ApiSpecServiceLoader"},s.a.createElement(w.d,{specService:o},e.children))):s.a.createElement(j.a,null)}function I(e){var t=e.diffServiceFactory,n=e.captureServiceFactory,a=Object(c.useState)(null),r=Object(y.a)(a,2),i=r[0],o=r[1],l=e.specService;return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.eventEmitter.on("events-updated",Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.listEvents();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(c.useEffect)((function(){l&&function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.listEvents();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l]),i?s.a.createElement(O.b,{specService:l,specServiceEvents:l.eventEmitter,diffServiceFactory:t,captureServiceFactory:n},s.a.createElement(C.b,{initialEventsString:i,rfcId:"testRfcId",instance:"the one in LocalCliSpecServiceLoader"},s.a.createElement(w.b,{specService:l},e.children))):s.a.createElement(j.a,null)}function D(){return(D=Object(b.a)(g.a.mark((function e(t){var n,a,r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t.events),a=t.examples||{},r=new S.a,i={eventEmitter:r,loadConfig:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({config:{apiName:"Example API",ignoreRequests:[]}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),listCapturedSamples:function(){var e=Object(b.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(t.session));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),listEvents:function(){return Promise.resolve(n)},getCaptureStatus:function(){return Promise.resolve({status:"completed"})},listCaptures:function(){return Promise.resolve({captures:[{captureId:"example-session",lastUpdate:(new Date).toISOString(),hasDiff:!0}]})},saveEvents:function(e,t){var a=e.serializeEvents(t);return n=a,r.emit("events-updated"),Promise.resolve()},listExamples:function(e){return Promise.resolve({examples:a[e]||[]})},saveExample:function(e,t){var n=a[t]||[];n.push(e),a[t]=n},getEnabledFeatures:function(){return{TESTING_DASHBOARD:!0}}},e.abrupt("return",{specService:i});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=n(95),N=n(201),T=n(99),P=n(96),A=n(3),B=n(384),U=n.n(B),F=n(151),J=n(67),L=n(65),H=n(18),z=n(13),W=n(85),q=n(31);function M(e){var t=e.title,n=e.description,a=e.typeName,r=(e.children,e.paramId),i=e.updateContribution,o=void 0===i?function(){}:i;return s.a.createElement("div",null,s.a.createElement("div",{style:{paddingTop:6,paddingBottom:6,paddingLeft:2}},s.a.createElement("div",null,s.a.createElement(H.a,{variant:"subtitle1",component:"span",style:z.g},t),s.a.createElement(H.a,{component:"span",style:{marginLeft:6,fontSize:12}},a||"String")),s.a.createElement(W.c,{value:n,label:"Description",onChange:function(e){o(r,q.a,e)}})))}var _=n(363),G=n.n(_),V=n(150),$=n(112),Q=n(30),Y=n(143),K=n(98),X=n(114),Z=n(144),ee=n(71),te=Object(T.a)((function(e){return{maxWidth:{width:"100%",paddingTop:60,maxWidth:750,alignSelf:"center"},paper:{marginTop:22,marginBottom:30},header:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:10,flex:1,paddingBottom:5},contributions:{display:"flex",flexDirection:"column",paddingRight:20,width:"60%"},overviewSection:{paddingTop:15,paddingBottom:15},expand:{display:"flex",justifyContent:"flex-start",alignItems:"center",paddingRight:10,marginTop:37,backgroundColor:"rgba(241,241,241,0.69)"},specPreview:{flex:1,display:"flex",flexDirection:"column"}}})),ne=function(e){e.match,e.specService;var t=Object(R.a)();return s.a.createElement(P.a,{title:"Documentation",scrollToTop:!0},s.a.createElement(P.a.Navbar,{mini:!0}),s.a.createElement(P.a.Body,null,s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:t.docsRoot,component:ae}),s.a.createElement(p.b,{path:t.requestDocsRoot,component:re}))))},ae=function(){var e=te(),t=Object(c.useContext)(w.c).cachedQueryResults.endpoints;return s.a.createElement("div",{className:e.maxWidth},0===t.length&&s.a.createElement(Z.a,{title:"Document your First Endpoint",content:"\n1. Follow the [Getting Started Tutorial](".concat(ee.a,")\n2. Run `api start` and send the API some traffic\n3. Use [Optic to document your API](").concat(ee.c,")\n").trim()}),t.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement(H.a,{variant:"h5",color:"primary"},"Documentation"),s.a.createElement(z.b,null)),s.a.createElement("div",null,t.map((function(t){return s.a.createElement(J.b,{method:t.method,pathId:t.pathId},s.a.createElement(J.a.Consumer,null,(function(t){var n=t.endpointDescriptor,a=t.updateContribution,r=t.getContribution,i=t.endpointId,o=Boolean(n.requestBodies.find((function(e){return e.requestBody.httpContentType})));return s.a.createElement("div",{className:e.paper},s.a.createElement("div",null,s.a.createElement("div",{className:e.header},s.a.createElement(W.b,{value:r(i,q.b),label:"What does this endpoint do?",onChange:function(e){a(i,q.b,e)}}),s.a.createElement("div",{style:{flex:1}}),s.a.createElement(L.b,{path:n.fullPath,method:n.method})),s.a.createElement("div",{className:e.contributions},s.a.createElement(W.c,{value:r(i,q.a),label:"Detailed Description",onChange:function(e){a(i,q.a,e)}})),s.a.createElement("div",{className:e.specPreview},s.a.createElement("div",{style:{flex:1}}),s.a.createElement(X.a,{className:e.expand,elevation:0},s.a.createElement(F.a,{component:d.b,to:"documentation/paths/".concat(n.pathId,"/methods/").concat(n.method),size:"medium",color:"primary",endIcon:s.a.createElement(U.a,null)},"Full Documentation"),s.a.createElement("div",{style:{flex:1}}),o&&s.a.createElement(H.a,{variant:"overline",color:"textSecondary",style:{marginRight:15}},"Has Request Body"),s.a.createElement(H.a,{variant:"overline",color:"textSecondary",style:{marginRight:7}},"Responses:"," "),s.a.createElement("div",{style:{marginTop:3,display:"flex",alignItems:"center"}},n.responses.map((function(e){return s.a.createElement(L.d,{label:e.statusCode,bgColor:"#32536a",color:"white",style:{marginRight:12}})})))))))})))}))))},re=function(e){var t=Object(p.i)(),n=t.pathId,a=t.method;return s.a.createElement(J.b,{method:a,pathId:n},s.a.createElement(J.a.Consumer,null,(function(e){var t=e.endpointDescriptor;return s.a.createElement(ie,{endpointDescriptor:t})})))},ie=function(e){var t=e.endpointDescriptor,n=te(),a=t.endpointPurpose,r="".concat(t.httpMethod," ").concat(t.fullPath);Object(P.b)("".concat(a||r," - API Documentation"));var i=Object(c.useContext)(w.c),o=i.rfcService,l=i.rfcId,u=i.cachedQueryResults.shapesResolvers,d=o.currentState(l),p=new A.DiffPreviewer(u,d);return s.a.createElement(Q.b,null,s.a.createElement("div",{className:n.maxWidth,style:{paddingTop:30}},s.a.createElement(J.a.Consumer,null,(function(e){var a=e.updateContribution,r=e.getContribution,i=e.endpointId,o=t.requestBodies,c=t.responses,l=G()(c,(function(e){return e.statusCode})),u=Object.keys(l).sort().map((function(e){return{statusCode:e,contentTypes:l[e.toString()].map((function(e){return e.responseBody.httpContentType||"No Body"})).sort()}}));return s.a.createElement("div",null,s.a.createElement(W.b,{value:r(i,q.b),label:"What does this endpoint do?",onChange:function(e){a(i,q.b,e)}}),s.a.createElement(W.c,{value:r(i,q.a),label:"Detailed Description",onChange:function(e){a(i,q.a,e)}}),s.a.createElement(z.b,{style:{marginTop:10,marginBottom:10}}),s.a.createElement("div",{className:n.overviewSection},s.a.createElement(L.b,{path:t.fullPath,method:t.method}),s.a.createElement("div",{style:{marginTop:7}},t.pathParameters.map((function(e){return s.a.createElement(M,{title:e.name,paramId:e.pathId,updateContribution:a,description:e.description})})))),s.a.createElement(z.b,{style:{marginTop:10,marginBottom:10}}),s.a.createElement(V.a,null,s.a.createElement(V.b,{inRequest:!0,options:{contentTypes:o.map((function(e){return e.requestBody.httpContentType})).filter((function(e){return!!e}))},renderDescription:function(e){var t="".concat(i,"_request_body");return s.a.createElement(W.c,{value:r(t,q.a),label:"Request Body Description",onChange:function(e){a(t,q.a,e)}})},renderRequest:function(e){var t=o.find((function(t){return t.requestBody.httpContentType===e})),n=t&&Object(A.getOrUndefined)(p.previewShape(Object(A.toOption)(t.requestBody.shapeId)));return n&&s.a.createElement(K.b,{header:s.a.createElement($.a,{itemStyles:{fontSize:13,color:"white"},location:["Request Body",e]})},s.a.createElement(Y.a,{preview:n}))}}),s.a.createElement(V.b,{options:u,renderDescription:function(e,t){var n="".concat(i,"_").concat(e,"_response");return s.a.createElement(W.c,{value:r(n,q.a),label:"".concat(e," Response Description"),onChange:function(e){a(n,q.a,e)}})},renderResponse:function(e,t){var n=c.find((function(n){return n.statusCode==e&&n.responseBody.httpContentType===t})),a=n&&Object(A.getOrUndefined)(p.previewShape(Object(A.toOption)(n.responseBody.shapeId)));return a&&s.a.createElement(K.b,{header:s.a.createElement($.a,{itemStyles:{fontSize:13,color:"white"},location:["".concat(e," Response Body"),t]})},s.a.createElement(Y.a,{preview:a}))}})),s.a.createElement("div",{style:{height:"100vh"}}))}))))},oe=n(364),ce=s.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,749))}));s.a.lazy((function(){return n.e(5).then(n.bind(null,748))}));function se(e){var t=Object(R.a)();return s.a.createElement(c.Suspense,{fallback:s.a.createElement(oe.a,null)},s.a.createElement(p.d,null,s.a.createElement(p.b,{strict:!0,path:t.docsRoot,component:ne}),s.a.createElement(p.b,{strict:!0,path:t.diffsRoot,component:N.b}),s.a.createElement(p.b,{strict:!0,path:t.testingDashboard,component:ce}),!1,s.a.createElement(p.a,{to:e.demo?t.diffsRoot:t.docsRoot})))}var le=n(38),ue=n(97),de=n.n(ue),pe=function(){function e(t){Object(a.a)(this,e),this.specService=t}return Object(r.a)(e,[{key:"startDiff",value:function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{diffId:de()(),notificationsUrl:""});case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"loadInteraction",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples("example-session");case 2:return n=e.sent,a=n.samples.find((function(e){return e.uuid===t})),e.abrupt("return",{interaction:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),fe=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.specService=t,this.captureService=n,this.diffConfig=r,this.diffs=i,this.rfcState=o}return Object(r.a)(e,[{key:"diffId",value:function(){return this.diffConfig.diffId}},{key:"listDiffs",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.ScalaJSHelpers.toJsArray(A.DiffResultHelper.endpointDiffs(this.diffs,this.rfcState)),e.abrupt("return",Promise.resolve({diffs:t}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listUnrecognizedUrls",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,a,r,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples("example-session");case 2:return t=e.sent,n=A.JsonHelper.jsArrayToSeq(t.samples.map((function(e){return A.JsonHelper.fromInteraction(e)}))),a=new A.opticEngine.com.useoptic.diff.helpers.UndocumentedUrlHelpers,r=a.countUndocumentedUrls(this.rfcState,n),i=A.opticEngine.UrlCounterJsonSerializer.toFriendlyJs(r),o=A.UrlCounterHelper.fromJsonToSeq(i,this.rfcState),e.abrupt("return",Promise.resolve(o));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStats",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples("example-session");case 2:return t=e.sent,e.abrupt("return",Promise.resolve({diffedInteractionsCounter:t.samples.length.toString(),skippedInteractionsCounter:"0"}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadDescription",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captureService.loadInteraction(t.firstInteractionPointer);case 2:if(!(n=e.sent).interaction){e.next=7;break}return e.abrupt("return",Object(A.getOrUndefined)(A.DiffResultHelper.descriptionFromDiff(t,this.rfcState,A.JsonHelper.fromInteraction(n.interaction))));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listSuggestions",value:function(){var e=Object(b.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.ScalaJSHelpers.toJsArray(A.DiffResultHelper.suggestionsForDiff(t,n,this.rfcState)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadInitialPreview",value:function(){var e=Object(b.a)(g.a.mark((function e(t,n,a){var r,i,o,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.previewBodyRender(n),i=[],!a){e.next=8;break}return e.next=5,Promise.all(A.ScalaJSHelpers.toJsArray(t.interactionPointers).map(function(){var e=Object(b.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.captureService.loadInteraction(t);case 2:return n=e.sent,a=n.interaction,e.abrupt("return",A.JsonHelper.fromInteraction(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:i=e.sent,e.next=9;break;case 8:i=[n];case 9:return o=t.previewShapeRender(this.rfcState,A.JsonHelper.jsArrayToVector(i),a),e.abrupt("return",{bodyPreview:r,shapePreview:o.shape,suggestion:o.suggestion});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),me=n(186);function he(e){var t=Object(p.j)(),n=Object(p.i)().sessionId,a=Object(E.c)({sessionId:n,exampleSessionCollection:"example-sessions"}),r=function(){var e=Object(b.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new pe(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r,i,o,c){var s,l,u,d,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=Object(b.a)(g.a.mark((function e(){var n,r,o,s,l,u,d,p,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.listCapturedSamples(c);case 2:n=e.sent,r=new A.RfcCommandContext("simulated","simulated","simulated"),o=Object(me.cachingResolversAndRfcStateFromEventsAndAdditionalCommands)(a,r,i),s=o.resolvers,l=o.rfcState,u=A.DiffHelpers.emptyInteractionPointersGroupedByDiff(),d=Object(h.a)(n.samples);try{for(d.s();!(p=d.n()).done;)f=p.value,u=A.DiffHelpers.groupInteractionPointerByDiffs(s,l,A.JsonHelper.fromInteraction(f),f.uuid,u)}catch(m){d.e(m)}finally{d.f()}return e.abrupt("return",{diffs:u,rfcState:l,resolvers:s});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return l.apply(this,arguments)},e.next=4,s();case 4:return u=e.sent,d=u.diffs,p=u.rfcState,e.abrupt("return",new fe(t,n,o,d,p));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,c){return e.apply(this,arguments)}}();return s.a.createElement(le.a,{value:{path:t.path,url:t.url}},s.a.createElement(E.a,{value:a},s.a.createElement(k,{captureServiceFactory:r,diffServiceFactory:i},s.a.createElement(se,null))))}var ve=n(207),ge=n(111),be=function(){function e(t,n,r,i){Object(a.a)(this,e),this.captureService=t,this.baseUrl=n,this.config=r,this.rfcState=i}return Object(r.a)(e,[{key:"diffId",value:function(){return this.config.diffId}},{key:"listDiffs",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.baseUrl,"/diffs"),e.next=3,ge.JsonHttpClient.getJson(t);case 3:return n=e.sent,a=A.opticEngine.DiffWithPointersJsonDeserializer.fromJs(n),e.abrupt("return",{diffs:A.ScalaJSHelpers.toJsArray(A.DiffResultHelper.endpointDiffs(a,this.rfcState))});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listUnrecognizedUrls",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.baseUrl,"/undocumented-urls"),e.next=3,ge.JsonHttpClient.getJson(t);case 3:return n=e.sent.urls,a=A.UrlCounterHelper.fromJsonToSeq(n,this.rfcState),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStats",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.baseUrl,"/stats"),e.abrupt("return",ge.JsonHttpClient.getJson(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadDescription",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captureService.loadInteraction(t.firstInteractionPointer);case 2:if(!(n=e.sent).interaction){e.next=7;break}return e.abrupt("return",Object(A.getOrUndefined)(A.DiffResultHelper.descriptionFromDiff(t,this.rfcState,A.JsonHelper.fromInteraction(n.interaction))));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listSuggestions",value:function(){var e=Object(b.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.ScalaJSHelpers.toJsArray(A.DiffResultHelper.suggestionsForDiff(t,n,this.rfcState)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadInitialPreview",value:function(){var e=Object(b.a)(g.a.mark((function e(t,n,a){var r,i,o,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.previewBodyRender(n),i=[],!a){e.next=8;break}return e.next=5,Promise.all(A.ScalaJSHelpers.toJsArray(t.randomPointers).map(function(){var e=Object(b.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.captureService.loadInteraction(t);case 2:return n=e.sent,a=n.interaction,e.abrupt("return",A.JsonHelper.fromInteraction(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:i=e.sent,e.next=9;break;case 8:i=[n];case 9:return o=t.previewShapeRender(this.rfcState,A.JsonHelper.jsArrayToVector(i),a),e.abrupt("return",{bodyPreview:r,shapePreview:o.shape,suggestion:o.suggestion});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),ye=function(){function e(t){Object(a.a)(this,e),this.baseUrl=t}return Object(r.a)(e,[{key:"startDiff",value:function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(this.baseUrl,"/diffs"),e.abrupt("return",ge.JsonHttpClient.postJson(i,{ignoreRequests:n,additionalCommands:a,events:t,filters:r}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"loadInteraction",value:function(e){var t="".concat(this.baseUrl,"/interactions/").concat(e);return ge.JsonHttpClient.getJson(t)}}]),e}();function Ee(e){var t=Object(p.j)(),n=Object(p.i)().apiId,a=new S.a,r=new ve.SpecServiceClient(n,a),i=function(){var e=Object(b.a)(g.a.mark((function e(t,a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/specs/".concat(n,"/captures/").concat(a),e.abrupt("return",new ye(r));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(b.a)(g.a.mark((function e(t,a,r,i,o,c,s){var l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l="/api/specs/".concat(n,"/captures/").concat(s,"/diffs/").concat(c.diffId),e.abrupt("return",new be(a,l,c,i));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,c){return e.apply(this,arguments)}}();return s.a.createElement(le.a,{value:{path:t.path,url:t.url}},s.a.createElement(I,{specService:r,diffServiceFactory:o,captureServiceFactory:i},s.a.createElement(se,null)))}var Oe=Object(T.a)((function(e){return{body:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}}}));function je(e){var t=Oe();e.title,e.content;return s.a.createElement("div",{className:t.body},s.a.createElement("div",{style:{marginTop:-150}},s.a.createElement(Z.a,{title:"Optic is Monitoring your APIs",content:"\n**Getting Started**\n- [Add Optic to your API Project](".concat(ee.a,")\n- [Document your API with Optic](").concat(ee.c,")\n- [Explore all the Optic Documentation](").concat(ee.e,")\n").trim()})))}function we(e){var t=Object(p.j)(),n=Object(p.i)().sessionId,a=Object(E.c)({sessionId:n,exampleSessionCollection:"private-sessions"});return s.a.createElement(le.a,{value:{path:t.path,url:t.url}},s.a.createElement(E.a,{value:a},s.a.createElement(k,null,s.a.createElement(se,null))))}var Ce=n(672),xe=n(676),Se=n(674),ke=n(675),Ie=n(673),De=n(167),Re=n.n(De),Ne=n(24),Te=function(e){var t=s.a.useState(!0),n=Object(y.a)(t,2),a=n[0],r=n[1],i=function(){r(!1)};return console.log("wowza!"),s.a.createElement("div",null,s.a.createElement(Ce.a,{open:a,onClose:i,fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title"},s.a.createElement("form",null,s.a.createElement(Ie.a,null,"Enjoying Optic?"),s.a.createElement(Se.a,{style:{marginTop:-20}},s.a.createElement(ke.a,{style:{marginTop:12}},"Start integrating Optic into your own projects")),s.a.createElement(xe.a,null,s.a.createElement(F.a,{onClick:i},"I just want to use this amazing demo"),s.a.createElement(F.a,{autoFocus:!1,type:"submit",onClick:function(){window.open("https://auth.useoptic.com/login")},color:"secondary",endIcon:s.a.createElement(Re.a,null)},"Lets Go")))))};function Pe(e){var t=Object(p.j)(),n=Object(p.i)().sessionId,a=Object(c.useState)(!1),r=Object(y.a)(a,2),i=r[0],o=r[1],l=Object(c.useState)(0),u=Object(y.a)(l,2),d=u[0],m=u[1],v=Object(p.g)(),O=Object(E.c)({sessionId:n,exampleSessionCollection:"demos"}),j=function(){var e=Object(b.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new pe(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r,i,o,c){var s,l,u,d,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=Object(b.a)(g.a.mark((function e(){var n,r,o,s,l,u,d,p,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.listCapturedSamples(c);case 2:n=e.sent,r=new A.RfcCommandContext("simulated","simulated","simulated"),o=Object(me.cachingResolversAndRfcStateFromEventsAndAdditionalCommands)(a,r,i),s=o.resolvers,l=o.rfcState,u=A.DiffHelpers.emptyInteractionPointersGroupedByDiff(),d=Object(h.a)(n.samples);try{for(d.s();!(p=d.n()).done;)f=p.value,u=A.DiffHelpers.groupInteractionPointerByDiffs(s,l,A.JsonHelper.fromInteraction(f),f.uuid,u)}catch(m){d.e(m)}finally{d.f()}return e.abrupt("return",{diffs:u,rfcState:l,resolvers:s});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return l.apply(this,arguments)},e.next=4,s();case 4:return u=e.sent,d=u.diffs,p=u.rfcState,e.abrupt("return",new fe(t,n,o,d,p));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,c){return e.apply(this,arguments)}}();setInterval((function(){o(!0)}),18e4);var C=Object(f.useSnackbar)().enqueueSnackbar,x=Object(c.useState)("nothing"),S=Object(y.a)(x,2),I=S[0],D=S[1],R=Object(c.useState)(null),N=Object(y.a)(R,2),T=N[0],P=N[1],B=Object(c.useState)(!1),U=Object(y.a)(B,2),J=U[0],L=U[1];return Object(c.useEffect)((function(){e.location.pathname.includes("documentation/paths")?(P(null),D("Descriptions can be added to the endpoint, to the request and responses, and to individual fields. Note the field types (collectively, the traffic shape) is already documented.")):e.location.pathname.includes("documentation")?(P(null),D('Details can be added to existing documentation. Click the "Full Documentation" drop-down on an endpoint above.')):e.location.pathname.includes("testing/captures")&&e.location.pathname.includes("endpoints")?(P(null),D("We can see that there is an undocumented field")):e.location.pathname.includes("testing/captures")&&(P(null),D("Choose an endpoint to see if it's fufilling its contract"))}),[e.location.pathname]),Ne.c.on("event",(function(t,n){switch(console.log(t),t){case"Show Initial Documentation Page":P(null),D('Optic will show you the requests and responses to this endpoint, and the automatically documented traffic shape. Click "Document Bodies" to commit the new documentation to the specification, accepting the changes and making fields optional.');break;case"Closed AddUrlModal":case"Changed to UNDOCUMENTED_URL":if(!J&&e.location.pathname.includes("diffs"))(n.undocumentedUrlCount||1)>0?(P(null),D("The Undocumented URLs page shows all traffic Optic observed to undocumented routes. Click a route to begin.")):(P({onClick:function(){P(null),v.push("/demos/todo/documentation")},title:"See Documentation"}),D("All Undocumented URLs have been added to the specification"));break;case"Navigating to Review Diff":case"Changed to ENDPOINT_DIFF":if(!J&&e.location.pathname.includes("diffs")){P(null);var a=n.diffCount;D(a>0?'Optic will show you all of the documented endpoints, and if any traffic shows undocumented behavior. Click "Creates a new TODO Item" to investigate.':"Because we've documented all changes in our API's behavior, we can see that the requests are following the expected behavior, and that there are no diffs")}break;case"On Undocumented Url":case"Clicked Undocumented Url":P(null),D("If an API path has parameters, they can be documented for consumers. Click the last component of the path, which is an example of a `todo_id`, and click Next.");break;case"Naming Endpoint":var r="GET"===n.method?"Get specific TODO Item":"Update Specific TODO Item";P(null),D("Now, let's give it a name. For example, we can call this endpoint \"".concat(r,'"'));break;case"Rendered Finalize Card":P(null),D("Optic tracks changes in API behavior, somewhat like Git tracks changes in code. Now that we've documented changes in the API behavior, those changes are committed to the API specification.");break;case"Committed Changes to Endpoint":L(!0),P({onClick:function(){P(null),v.push("/demos/todo/documentation")},title:"See Documentation"}),D("Awesome! Now that you've committed changes, let's take a look at the documentation!");break;case"Viewing Endpoint Diff":P(null),D("Optic detected a change from the previously documented behavior. We can update the documentation and commit that change in behavior to the specification. Let's add priority as a field. Then, make it optional.")}})),Object(c.useEffect)((function(){if("nothing"!==I)if(T){C(I,{variant:"info",preventDuplicate:!0,autoHideDuration:null,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:function(){return s.a.createElement(F.a,{onClick:T.onClick},T.title)}})}else C(I,{variant:"info",preventDuplicate:!0,autoHideDuration:null,anchorOrigin:{horizontal:"center",vertical:"bottom"}})}),[I,T,C]),s.a.createElement(s.a.Fragment,null,s.a.createElement(le.a,{value:{path:t.path,url:t.url}},s.a.createElement(E.a,{value:O},s.a.createElement(k,{captureServiceFactory:j,diffServiceFactory:w},s.a.createElement(se,{demo:!0}),(d>=2||i)&&s.a.createElement(Te,{onCancel:function(){m(0),o(!1)}})))))}function Ae(){return s.a.createElement(p.d,null,s.a.createElement(p.b,{strict:!0,path:"/development/private-sessions/:sessionId",component:we}),s.a.createElement(p.b,{strict:!0,path:"/development/:sessionId",component:he}),s.a.createElement(p.b,{strict:!0,path:"/demos/:sessionId",component:Pe}),s.a.createElement(p.b,{strict:!0,path:"/apis/:apiId",component:Ee}),s.a.createElement(p.b,{strict:!0,path:"/",component:je}))}var Be=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error;return t?s.a.createElement(Ue,{error:n}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,null),s.a.createElement(m.a,{theme:u.f},s.a.createElement(f.SnackbarProvider,{maxSnack:1},s.a.createElement(d.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(p.b,{path:"/",component:Ae}))))))}},{key:"componentDidMount",value:function(){Object(Ne.a)()}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(s.a.Component);function Ue(e){var t=Object(c.useCallback)((function(e){e.preventDefault(),window&&window.location&&window.location.reload(!0)}));return Object(c.useEffect)((function(){Object(Ne.b)("In-App-Error",{message:e.error.message,stack:e.error.stack})})),s.a.createElement("div",{className:"app-error-container"},s.a.createElement("div",{className:"app-error"},s.a.createElement("h1",null,"There was a problem in displaying the Optic app."),s.a.createElement("h4",null,"Something that we didn't anticipate happened, and we can't recover from it automatically."),s.a.createElement("h5",null,"Please feel free to"," ",s.a.createElement("a",{href:ee.b("Optic App crash report")},"contact us about it.")),s.a.createElement("p",null,"Meanwhile, you could try the following:"),s.a.createElement("ul",null,s.a.createElement("li",null,"Create a debug file and"," ",s.a.createElement("a",{href:ee.b("Optic App crash report")}," ","email it to our team")," ","or ",s.a.createElement("a",{href:ee.d}," open a GitHub issue"),": ",s.a.createElement("ul",null,s.a.createElement("li",null,"Open Developer Tools"),s.a.createElement("li",null,"Type ",s.a.createElement("code",null,"debugOptic()")," in the console"))),s.a.createElement("li",null,s.a.createElement("a",{href:"#",onClick:t},"Refresh the page")," ","in your browser."),s.a.createElement("li",null,"Try ",s.a.createElement("a",{href:"https://browsehappy.com/"},"a different browser"),", if you can."))))}t.a=Be},387:function(e,t,n){"use strict";var a=n(205),r=n(8),i=n(0),o=n.n(i),c=n(99),s=n(269),l=n(672),u=n(676),d=n(674),p=n(675),f=n(375),m=n.n(f),h=n(673),v=n(151),g=n(15),b=n(17),y=n(21),E=n(22),O=n(39),j=n.n(O),w=n(26),C=n(216),x=n(18),S=n(171),k=n(284);var I=Object(S.a)((function(e){return Object(k.a)({thin:{fontWeight:100},component:{"&:hover":{color:"#cb5a77"},"&:focus":{color:"#cb5a77"}},thick:{fontWeight:600}})}));function D(e){var t=I(),n=e.item,a=e.updateItem;return n.isParameter?o.a.createElement(C.a,{className:t.component,onClick:function(){return a(Object(w.a)(Object(w.a)({},n),{},{name:n.originalName,isParameter:!1}))}},o.a.createElement(x.a,{className:t.thick},"{".concat(n.name,"}"))):o.a.createElement(C.a,{className:t.component,onClick:function(){return a(Object(w.a)(Object(w.a)({},n),{},{isParameter:!0}))}},o.a.createElement(x.a,{className:t.thin},n.name))}var R=function(e){var t=e.url,n=e.onAccept,c=Object(i.useState)(function(e){var t=e.split("/").map((function(e,t){var n=":"===e.charAt(0)||"{"===e.charAt(0);return{index:t,name:e,originalName:e,isParameter:n}})),n=Object(a.a)(t),r=n[0],i=n.slice(1);return""===r.name?i:t}(t)),l=Object(r.a)(c,2),u=l[0],d=l[1],p=Object(i.useState)(null),f=Object(r.a)(p,2),m=f[0],h=f[1];function v(e){return function(t){h(e),function(e){d(e),n(e)}(u.map((function(n){return n.index===e?t:n})))}}Object(i.useEffect)((function(){n(u)}),[]);var g=u.filter((function(e){return e.isParameter}));return o.a.createElement("div",null,o.a.createElement("div",{style:{marginBottom:6}},o.a.createElement(x.a,{variant:"caption"},"Click any path component to make it a parameter:")),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},u.flatMap((function(e){return[o.a.createElement(C.a,{key:"".concat(e.index,"-1"),disabled:!0},o.a.createElement(x.a,{style:{marginRight:2,marginLeft:2,fontWeight:200}},"/")),o.a.createElement(D,{key:"".concat(e.index,"-2"),item:e,updateItem:v(e.index)})]}))),g.length>0?o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(x.a,{variant:"overline"},"Parameter Names:")),g.map((function(e){var t=v(e.index);return o.a.createElement("div",{style:{marginBottom:11}},o.a.createElement(s.a,{key:e.index,autoFocus:e.index===m,fullWidth:!0,value:e.name,label:'"'.concat(e.originalName,'" is an example of a...'),onChange:function(n){return t(Object(w.a)(Object(w.a)({},e),{},{name:n.target.value.trim()}))}},e.name))}))):null)},N=function(e){Object(y.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handlePathComponentsChange=function(t){var n=G(t);e.props.onChange({pathExpression:n})},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.url;return o.a.createElement("div",null,o.a.createElement("div",{className:n.pathWrapper},o.a.createElement(R,{url:a,onAccept:function(t){e.handlePathComponentsChange(t)}})))}}]),n}(o.a.Component),T=j()((function(e){return{pathWrapper:{padding:7,fontWeight:400,backgroundColor:"#f6f6f6"}}}))(N),P=n(167),A=n.n(P),B=n(78),U=n(260),F=n(79),J=n(3),L=n(29),H=n(31),z=n(65),W=(n(38),n(24)),q=n(44);n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return G}));var M=Object(c.a)((function(e){return{container:{display:"flex",flexDirection:"column",height:"100vh"},urls:{maxHeight:500,overflow:"scroll"}}}));window.OpticIds=J.OpticIds;var _=Object(L.f)((function(e){var t=e.children,n=e.newUrl,a=e.urlOverride,c=e.onClose,f=e.allUnmatchedPaths,g=e.onAdd,b=M(),y=Object(i.useContext)(L.c),E=y.cachedQueryResults,O=y.handleCommands,j=Object(i.useContext)(q.a).captureId,w=Object(J.getOrUndefined)(n.pathId),C=o.a.useState(Boolean(w)),S=Object(r.a)(C,2),k=S[0],I=S[1],D=o.a.useState(n.path),R=Object(r.a)(D,2),N=R[0],P=R[1];Object(i.useEffect)((function(){k?Object(W.b)("Naming Endpoint (uE)",{path:n.path,method:n.method}):Object(W.b)("On Undocumented Url",{path:n.path,method:n.method})}));var _=function(){Object(W.b)("Closed AddUrlModal"),P(n.path),c()},V=function(e){Object(W.b)("Documented New URL",{purpose:e,captureId:j,method:n.method,pathExpression:N});var t=w,a=[];if(!t){var r=E.pathsById,i=$(N),o=Object(F.f)(i,r),s=o.toAdd,l=o.lastMatch;t=l.pathId,s.forEach((function(e){var n=J.OpticIds.newPathId(),r=(e.isParameter?J.RequestsCommands.AddPathParameter:J.RequestsCommands.AddPathComponent)(n,t,e.name.replace(/[{}:]/gi,""));a.push(r),t=n}))}a.push(J.RfcCommands.AddContribution(Object(H.c)(t,n.method),H.b,e)),O.apply(void 0,a),g({pathId:t,method:n.method}),c()},Q=function(e){var t=G(e);return m()(t,[],{start:!0,end:!0})}($(N)),Y=null!==Q.exec(n.path),K=Array.from(f.filter((function(e){return Q.exec(e)&&e!==n.path})));function X(){var e=o.a.useState(""),t=Object(r.a)(e,2),i=t[0],c=t[1];return Object(W.b)("Naming Endpoint",{path:n.path,method:n.method}),o.a.createElement(l.a,{open:!0,onClose:_,fullWidth:!0,maxWidth:"md",transitionDuration:0,key:"dialog"+n.toString()},o.a.createElement("form",null,o.a.createElement(h.a,null,"Add New Endpoint"),o.a.createElement(d.a,{style:{marginTop:-20}},o.a.createElement(z.a,{method:n.method,path:a||N}),o.a.createElement(p.a,{style:{marginTop:12}},"What does this endpoint do?"),o.a.createElement(s.a,{value:i,onChange:function(e){return c(e.target.value)},autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&V(i)},fullWidth:!0})),o.a.createElement(u.a,null,o.a.createElement(v.a,{onClick:function(){return I(!1)}},"Back"),o.a.createElement(v.a,{type:"submit",onClick:function(){return V(i)},color:"secondary",disabled:!Y&&!w&&""!==i,endIcon:o.a.createElement(A.a,null)},"Finish"))))}return o.a.createElement("div",{key:n.toString()},o.a.createElement("div",{onClick:function(){Object(W.b)("Clicked Undocumented Url",{captureId:j,method:n.method,path:n.path,knownPathId:w})}},t),k?o.a.createElement(X,{key:"naming one"+n.toString()}):o.a.createElement(l.a,{open:!0,onClose:_,key:"path to"+n.toString(),fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title"},o.a.createElement("form",null,o.a.createElement(h.a,null,"Add New Endpoint"),o.a.createElement(d.a,{style:{marginTop:-20}},o.a.createElement(z.a,{method:n.method,path:n.path}),o.a.createElement(p.a,{style:{marginTop:12}},"Specify the pattern that matches this URL:"),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",{style:{flex:1.5}},o.a.createElement(T,{initialPathString:n.path,url:n.path,onChange:function(e){var t=e.pathExpression;P(t)}}))),o.a.createElement("div",{className:b.urls},o.a.createElement(B.a,{when:K.length},o.a.createElement(U.a,{title:"Other matching URLs:",innerStyle:{paddingLeft:5}},K.map((function(e){return o.a.createElement(x.a,{variant:"subtitle1",style:{fontSize:12,marginBottom:11}},e)})))))),o.a.createElement(u.a,null,o.a.createElement(v.a,{onClick:_},"Cancel"),o.a.createElement(v.a,{autoFocus:!0,type:"submit",onClick:function(){return I(!0)},color:"secondary",disabled:!Y,endIcon:o.a.createElement(A.a,null)},"Next")))))}));function G(e){return 0===e.length?"/":"/"+e.map((function(e){var t=e.name;if(e.isParameter){var n=t.replace("{","").replace("}","").replace(":","");return":".concat(n)}return t})).join("/")}function V(e){return e.length>0&&""===e[e.length-1].name?e.slice(0,-1):e}function $(e){var t=e.split("/").map((function(e){var t=":"===e.charAt(0)||"{"===e.charAt(0);return{name:e,isParameter:t}})),n=Object(a.a)(t),r=n[0],i=n.slice(1);return""===r.name?V(i):V(t)}},412:function(e,t,n){e.exports=n(413)},413:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),r=n(27),i=n.n(r),o=(n(418),n(386)),c=n(385);e.opticDebug={},i.a.render(a.a.createElement(o.a,null),document.getElementById("root")),c.a()}.call(this,n(32))},418:function(e,t,n){},419:function(e,t,n){},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return j}));var a=n(8),r=n(26),i=n(5),o=n.n(i),c=n(9),s=n(15),l=n(17),u=n(21),d=n(22),p=n(0),f=(n(51),n(29)),m=n(3),h=n(200),v=n.n(h),g=n(24),b=p.createContext(null);function y(){return Object(p.useContext)(b)}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{diffService:null,captureService:null,notificationChannel:null,config:null,additionalCommands:[],lastUpdate:null,pendingUpdates:!1,completed:!1,skipped:"0",processed:"0",reloadDebounce:e,unrecognizedUrls:[],endpointDiffs:[]}},O=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).state=E(),e.componentDidMount=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({reloadDebounce:v()(e.reload,1e3,{leading:!0,maxWait:1500})},Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.startDiff();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)}))),e.reload=function(){var t=Object(c.a)(o.a.mark((function t(n){var i,c,s,l,u,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(){if(n&&n.hasOwnProperty("hasMoreInteractions")){n.hasMoreInteractions||(console.log("completed diff"),Object(g.b)("Completed Diff",{captureId:e.props.captureId}));var t={completed:!n.hasMoreInteractions,skipped:n.skippedInteractionsCounter,processed:n.diffedInteractionsCounter};return Object(g.b)("Diff Progress",Object(r.a)({captureId:e.props.captureId},t)),t}return{}}(),!(c=e.state.diffService)){t.next=12;break}return t.next=5,Promise.all([c.listDiffs(),c.listUnrecognizedUrls()]);case 5:s=t.sent,l=Object(a.a)(s,2),u=l[0],d=l[1],console.log("results",[u.diffs.length,d.length]),Object(g.b)("Diff Incremental Results",{captureId:e.props.captureId,diffs:u.diffs.length,newUrls:d.length}),e.setState(Object(r.a)({endpointDiffs:u.diffs,unrecognizedUrls:d,pendingUpdates:!0,lastUpdate:new Date},i));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cleanupDiff=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.notificationChannel&&e.state.notificationChannel.close(),t.next=3,new Promise((function(t){e.setState({unrecognizedUrls:[],endpointDiffs:[],lastUpdate:null,pendingUpdates:!1,config:null,completed:!1,skipped:"0",processed:"0"},t)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),e.startDiff=Object(c.a)(o.a.mark((function t(){var n,a,i,c,s,l,u,d,p,f,h,v,b,y,E,O,j,w,C,x,S;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.specService,i=n.captureServiceFactory,c=n.diffServiceFactory,s=n.captureId,l=n.eventStore,u=n.rfcId,d=n.rfcService,p=n.method,f=n.pathId,h=e.state,console.log("look here ",h),t.next=5,e.cleanupDiff();case 5:return t.next=7,i(a,s);case 7:return v=t.sent,t.next=10,a.loadConfig();case 10:return b=t.sent,y=l.listEvents(u),Object(g.b)("Starting Diff",{eventsLength:y.length,additionalCommandsLength:e.state.additionalCommands.length,captureId:s}),E=m.ScalaJSHelpers.eventsJsArray(y),t.next=16,v.startDiff(E,b.config.ignoreRequests||[],Object(m.commandsToJson)(e.state.additionalCommands),f&&p?[{pathId:f,method:p}]:[]);case 16:return O=t.sent,j=d.currentState(u),t.next=20,c(a,v,E,j,e.state.additionalCommands,O,s);case 20:if(w=t.sent,C=null,x=void 0,!O.notificationsUrl){t.next=30;break}(C=new EventSource(O.notificationsUrl)).onmessage=function(t){var n=JSON.parse(t.data),a=n.type,r=n.data;"message"===a?e.state.reloadDebounce(r):"error"===a&&console.error(r)},C.onerror=function(e){console.error(e)},C.onopen=function(e){console.log(e)},t.next=34;break;case 30:return t.next=32,w.loadStats();case 32:S=t.sent,x=Object(r.a)({hasMoreInteractions:!1},S);case 34:e.setState({config:O,diffService:w,captureService:v,notificationChannel:C,pendingUpdates:!1},(function(){return e.reload(x)}));case 35:case"end":return t.stop()}}),t)}))),e.updatedAdditionalCommands=function(t){e.setState({additionalCommands:t},(function(){e.startDiff()}))},e.render=function(){var t=e.state,n=t.pendingUpdates,a=t.unrecognizedUrls,r=t.endpointDiffs,i=t.lastUpdate,o=t.config,c=t.diffService,s=t.captureService,l=t.completed,u=t.skipped,d=t.processed,f=m.CompareEquality.filterIgnored(r,e.props.ignoredDiffs),h={pendingUpdates:n,captureId:e.props.captureId,config:o,lastUpdate:i,endpointDiffs:f,unrecognizedUrls:a,diffService:c,captureService:s,completed:l,skipped:u,processed:d,updatedAdditionalCommands:e.updatedAdditionalCommands};return p.createElement(b.Provider,{value:h},e.props.children)},e}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.state.notificationChannel&&this.state.notificationChannel.close()}}]),n}(p.Component),j=Object(f.f)(O)},458:function(e,t,n){"use strict";var a=n(58),r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var i=n(111),o=function(){function e(t){a(this,e),this.baseUrl=t}return r(e,[{key:"getIdentity",value:function(){var e="".concat(this.baseUrl,"/identity");return i.JsonHttpClient.getJsonWithoutHandlingResponse(e)}},{key:"setIdentity",value:function(e){if(e){var t="".concat(this.baseUrl,"/identity");return i.JsonHttpClient.putJson(t,{user:e})}}},{key:"findSession",value:function(e,t,n){var a="".concat(this.baseUrl,"/sessions");return i.JsonHttpClient.postJson(a,{path:e,taskConfig:t,captureId:n})}},{key:"markCaptureAsCompleted",value:function(e,t){var n="".concat(this.baseUrl,"/specs/").concat(e,"/captures/").concat(t,"/status");return i.JsonHttpClient.putJson(n,{status:"completed"})}},{key:"stopDaemon",value:function(){var e="".concat(this.baseUrl,"/commands");return i.JsonHttpClient.postJson(e,{type:"shutdown"})}}]),e}();t.Client=o},459:function(e,t,n){"use strict";var a=n(5),r=n(292),i=n(58),o=n(61),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHttpClient=void 0;var s=c(n(460)),l=function(){function e(){i(this,e)}return o(e,null,[{key:"verifyOkResponse",value:function(){var e=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,t.ok){e.next=5;break}throw new Error("expected a successful response. got ".concat(t.status," ").concat(t.statusText," \n").concat(n));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleJsonResponse",value:function(){var e=r(a.mark((function e(t){var n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=9;break}if(204!==t.status){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.next=11,t.text();case 11:throw r=e.sent,new Error("".concat(t.status," ").concat(t.statusText," \n").concat(r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJson",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default(t,{method:"GET",headers:Object.assign({accept:"application/json"},n)}).then(e.handleJsonResponse)}},{key:"getJsonWithoutHandlingResponse",value:function(e){return s.default(e,{method:"GET",headers:{Accept:"application/json"}})}},{key:"postJsonString",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"POST",body:n,headers:Object.assign({accept:"application/json","content-type":"application/json"},a)}).then(e.handleJsonResponse)}},{key:"postJson",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.postJsonString(t,JSON.stringify(n),a)}},{key:"postJsonWithoutBody",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default(t,{method:"POST",headers:Object.assign({accept:"application/json"},n)}).then(e.handleJsonResponse)}},{key:"getJsonAsText",value:function(t){return s.default(t,{headers:{accept:"application/json"}}).then(e.verifyOkResponse)}},{key:"putJson",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.putJsonString(t,JSON.stringify(n),a)}},{key:"putJsonString",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"PUT",body:n,headers:Object.assign({accept:"application/json","content-type":"application/json"},a)}).then(e.handleJsonResponse)}},{key:"putBytes",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"PUT",body:n,headers:Object.assign({"content-length":n.length.toString()},a)}).then(e.verifyOkResponse)}}]),e}();t.JsonHttpClient=l},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var a=n(26),r=n(0),i=n.n(r),o=i.a.createContext({depth:0}),c=function(e){var t=e.children,n=e.add,r=void 0===n?1:n,c=e.style;return i.a.createElement(o.Consumer,null,(function(e){var n=e.depth;return i.a.createElement("div",{style:Object(a.a)({paddingLeft:13*(n+r)},c)},i.a.createElement(o.Provider,{value:{depth:n+r}},t))}))},s=function(e){var t=e.children,n=e.add,a=void 0===n?1:n;return i.a.createElement(o.Consumer,null,(function(e){var n=e.depth;return i.a.createElement(o.Provider,{value:{depth:n+a}},t)}))}},461:function(e,t,n){"use strict";var a=n(5),r=n(292),i=n(58),o=n(61),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var s=c(n(462)),l=n(111),u=new s.default({maxConcurrent:1,minTime:1e3}),d=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/api";i(this,e),this.specId=t,this.eventEmitter=n,this.baseUrl=a}return o(e,[{key:"loadConfig",value:function(){return l.JsonHttpClient.getJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/config"))}},{key:"listEvents",value:function(){return l.JsonHttpClient.getJsonAsText("".concat(this.baseUrl,"/specs/").concat(this.specId,"/events"))}},{key:"listCaptures",value:function(){return l.JsonHttpClient.getJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/captures"))}},{key:"saveEvents",value:function(e,t){var n=this,a=e.serializeEvents(t);return l.JsonHttpClient.putJsonString("".concat(this.baseUrl,"/specs/").concat(this.specId,"/events"),a).then((function(e){return n.eventEmitter.emit("events-updated"),e}))}},{key:"listCapturedSamples",value:function(e){var t=this;return u.schedule((function(){return l.JsonHttpClient.getJson("".concat(t.baseUrl,"/specs/").concat(t.specId,"/captures/").concat(e,"/samples")).then((function(e){return{samples:e.samples,metadata:e.metadata}}))}))}},{key:"getCaptureStatus",value:function(e){return l.JsonHttpClient.getJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/captures/").concat(e,"/status"))}},{key:"getTestingCredentials",value:function(){return l.JsonHttpClient.getJsonWithoutHandlingResponse("".concat(this.baseUrl,"/specs/").concat(this.specId,"/testing-credentials"))}},{key:"getEnabledFeatures",value:function(){var e=r(a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTestingCredentials();case 2:return t=e.sent,e.abrupt("return",{TESTING_DASHBOARD:t.status>=200&&t.status<=299});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.Client=d},489:function(e,t){},491:function(e,t){},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(e){var t=a.createContext(e);return{Context:t,withContext:function(e){return function(n){return a.createElement(t.Consumer,null,(function(t){return a.createElement(e,Object.assign({},n,t))}))}}}}},500:function(e,t){},502:function(e,t){},51:function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return y}));var a=n(5),r=n.n(a),i=n(9),o=n(15),c=n(17),s=n(21),l=n(22),u=n(0),d=n.n(u),p=n(50),f=Object(p.a)(null),m=f.Context,h=f.withContext,v=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={enabledFeatures:null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.specService,a=t.specServiceEvents;a?a.on("events-updated",(function(){e.forceUpdate()})):console.warn("I need specServiceEvents"),function(){var t=Object(i.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getEnabledFeatures();case 2:a=t.sent,e.setState({enabledFeatures:a});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}},{key:"render",value:function(){var e=this.props,t={specService:e.specService,captureServiceFactory:e.captureServiceFactory,diffServiceFactory:e.diffServiceFactory,enabledFeatures:this.state.enabledFeatures};return d.a.createElement(m.Provider,{value:t},this.props.children)}}]),n}(d.a.Component);function g(){return Object(u.useContext)(m).specService}function b(){var e=Object(u.useContext)(m);return{specService:e.specService,diffServiceFactory:e.diffServiceFactory,captureServiceFactory:e.captureServiceFactory}}function y(){var e=Object(u.useContext)(m);if(!e)throw Error("useEnabledFeatures can only be used inside SpecServiceContext");return e.enabledFeatures}},529:function(e,t){},530:function(e,t){},535:function(e,t){},537:function(e,t){},561:function(e,t){},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n(15),r=n(17),i=n(21),o=n(22),c=n(0),s=n.n(c),l=n(50),u=n(150),d=Object(l.a)(),p=d.Context,f=d.withContext,m=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isFinishing:!1},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.acceptSuggestion,a=t.acceptedSuggestions,r={diffsForThisEndpoint:t.diffsForThisEndpoint,completed:t.completed,isFinishing:this.state.isFinishing,clearPreview:function(){e.setState({exampleInteractions:[],isFinishing:!1})},reset:function(){e.props.reset(),e.setState({exampleInteractions:[],isFinishing:!1})},acceptSuggestion:n,acceptedSuggestions:a};return s.a.createElement(p.Provider,{value:r},this.props.children)}}]),n}(s.a.Component),h=Object(u.c)(m)},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p}));var a=n(26),r=n(0),i=n.n(r),o=n(18),c=n(13),s=n(108),l=function(e){var t=e.path,n=e.method,a=i.a.createElement(o.a,{variant:"body1",component:"span",style:{fontWeight:400,color:"#ffffff",padding:4,fontSize:11,borderRadius:2,marginTop:-3,backgroundColor:c.i[n.toUpperCase()]}},n.toUpperCase()),r=i.a.createElement(o.a,{variant:"subtitle1",component:"span",style:{fontSize:12,marginLeft:7}},t);return i.a.createElement("span",null," ",a," ",r," ")},u=function(e){var t=e.path,n=e.method,a=i.a.createElement(o.a,{variant:"body1",component:"div",style:{fontWeight:400,color:"#ffffff",fontSize:9,borderRadius:2,padding:3,paddingTop:4,backgroundColor:c.i[n.toUpperCase()]}},n.toUpperCase()),r=i.a.createElement(o.a,{variant:"subtitle1",component:"div",style:{fontSize:10,marginLeft:8,maxWidth:220,overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all",whiteSpace:"nowrap"}},t);return i.a.createElement(s.a,{title:i.a.createElement(l,{method:n,path:t})},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingLeft:8,paddingRight:8}}," ",a," ",r," "))},d=function(e){var t=e.path,n=e.method,a=i.a.createElement(o.a,{variant:"body1",component:"span",style:{fontWeight:400,color:"#ffffff",padding:4,fontSize:15,borderRadius:2,marginTop:-3,backgroundColor:c.i[n.toUpperCase()]}},n.toUpperCase()),r=i.a.createElement(o.a,{variant:"subtitle1",component:"span",style:{fontSize:17,marginLeft:7,fontWeight:200}},t);return i.a.createElement("span",null," ",a," ",r," ")},p=function(e){var t=e.label,n=e.color,r=e.bgColor,c=e.style;return i.a.createElement(o.a,{variant:"body1",component:"span",style:Object(a.a)({fontWeight:400,color:n,padding:4,fontSize:8,borderRadius:2,marginTop:-3,backgroundColor:r},c)},t)}},665:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=(n(151),n(672),n(676),n(674),n(675),n(673),n(192));n(201),n(28),r.a.forwardRef((function(e,t){return r.a.createElement(i.a,Object.assign({direction:"up",ref:t},e))}))},666:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(39),o=n.n(i),c=n(261),s=n.n(c);n(667),n(668);o()((function(e){return{root:{}}}))((function(e){var t=e.value,n=e.onChange;return r.a.createElement(s.a,{mode:"json",theme:"github",tabSize:2,showPrintMargin:!1,width:"90%",onChange:n,value:t,editorProps:{$blockScrolling:!0}})}))},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y}));var a=n(34),r=n(15),i=n(17),o=n(21),c=n(22),s=n(0),l=n.n(s),u=n(50),d=n(263),p=n(29),f=n(208),m=n(79),h=Object(u.a)(null),v=h.Context,g=(h.withContext,function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.pathId,r=t.method,i=t.notFound,o=this.props,c=o.cachedQueryResults,s=(o.queries,o.handleCommands),u=c.contributions,p=Object(d.b)({pathId:n,method:r}),m=Object(d.a)({pathId:n,method:r},c);if(m){var h={endpointId:p,endpointDescriptor:m,getContribution:function(e,t){return u.getOrUndefined(e,t)},lookupExampleForRequest:function(t){return e.props.lookupExampleForRequest(n,r,t)},lookupExampleForResponse:function(t){return e.props.lookupExampleForResponse(n,r,t)},updateContribution:function(e,t,n){s.apply(void 0,Object(a.a)(Object(f.a)(e,t,n)))}};return l.a.createElement(v.Provider,{value:h},this.props.children)}return i||l.a.createElement("div",null,"Endpoint Not Found ",r," ",n)}}]),n}(l.a.Component)),b=Object(p.f)(g);function y(e){var t=e.pathId,n=Object(s.useContext)(p.c).cachedQueryResults.pathsById;if(!t)return null;var a=Object(m.b)(t,n).map((function(e){return n[e]})).map((function(e){return{pathComponentName:Object(m.d)(e),pathComponentId:e.pathId}})).map((function(e){return e.pathComponentName})).join("/");return l.a.createElement(l.a.Fragment,null,a||"/")}},71:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s}));var a="https://docs.useoptic.com",r=a+"/",i=a+"/setup",o=a+"/documenting-your-api",c=function(e){return"mailto:aidan@useoptic.com?subject=".concat(e)},s="https://github.com/opticdev/optic/issues"},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(26),r=n(0),i=n.n(r);function o(e){var t=e.when,n=e.children,r=e.style;return i.a.createElement("div",{style:Object(a.a)({display:!t&&"none"},r)},t&&n)}function c(e){var t=e.when,n=e.children,r=e.style;return i.a.createElement("span",{style:Object(a.a)({display:!t&&"none"},r)},t&&n)}},79:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return m}));var a=n(8),r=n(34);n(26);function i(e){return!!e.descriptor.ParameterizedPathComponentDescriptor}function o(e){return 1===e.length?"/":e.map((function(e){return function(e){if(e.descriptor.ParameterizedPathComponentDescriptor)return"{}";if(e.descriptor.BasicPathComponentDescriptor)return e.descriptor.BasicPathComponentDescriptor.name;return null}(e)})).join("/")}function c(e){return 1===e.length?"/":e.map((function(e){return s(e)})).join("/")}function s(e){return e.descriptor.ParameterizedPathComponentDescriptor?"{".concat(e.descriptor.ParameterizedPathComponentDescriptor.name,"}"):e.descriptor.BasicPathComponentDescriptor?e.descriptor.BasicPathComponentDescriptor.name:null}function l(e,t){var n,a=e,r=[];do{r.push(a);var i=t[a];a=(n=i)&&n.descriptor?n.descriptor.ParameterizedPathComponentDescriptor?n.descriptor.ParameterizedPathComponentDescriptor.parentPathId:n.descriptor.BasicPathComponentDescriptor?n.descriptor.BasicPathComponentDescriptor.parentPathId:null:null}while(a);return r.reverse()}function u(e,t){return l(e,t).map((function(e){return t[e]}))}function d(e){return"/"+e.map((function(e){return e.isParameter?"{}":e.name})).join("/")}function p(e,t){var n=e.length;return 0===n?t:e[n-1]}var f=[];function m(e,t){var n=Object.entries(t).reduce((function(e,n){var r=Object(a.a)(n,2),i=r[0],c=r[1];return e[o(u(i,t))]=c,e}),{}),i=function(e){return e.reduce((function(e,t){return[].concat(Object(r.a)(e),[[].concat(Object(r.a)(p(e,[])),[t])])}),[f])}(e).reverse().find((function(e){var t=d(e);return!!n[t]})),c=d(i),s=n[c],l=e.length-i.length;return{lastMatch:s,toAdd:l<=0?[]:e.slice(-1*l)}}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(8),r=n(5),i=n.n(r),o=n(9),c=n(0),s=n.n(c).a.createContext(null);s.displayName="MockDataContext";var l=s.Provider;function u(e){var t=e.sessionId,n=e.exampleSessionCollection;return Object(c.useMemo)((function(){return function(e){var t=e.exampleSessionCollection,n=e.sessionId,a=null;function r(){return(r=Object(o.a)(i.a.mark((function e(){var r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>0&&void 0!==o[0]&&o[0],a&&!r||(a=fetch("/".concat(t,"/").concat(n,".json"),{headers:{accept:"application/json"}}).then((function(e){if(e.ok)return e.json();throw new Error}))),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{sessionId:n,getData:function(){return r.apply(this,arguments)}}}({sessionId:t,exampleSessionCollection:n})}),[t])}function d(e){var t=Object(c.useContext)(s),n=Object(c.useState)(null),r=Object(a.a)(n,2),i=r[0],o=r[1],l=Object(c.useState)(!0),u=Object(a.a)(l,2),d=u[0],p=u[1],f=Object(c.useState)(null),m=Object(a.a)(f,2),h=m[0],v=m[1],g=Object(c.useState)(!0),b=Object(a.a)(g,2),y=b[0],E=b[1];return Object(c.useEffect)((function(){t?(E(!0),t.getData().then((function(e){return o(e),p(!1),e})).catch((function(e){v(e)}))):(E(!1),o(null),p(!1))}),e),{available:y,data:i,loading:d,error:h}}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return C}));var a=n(26),r=n(15),i=n(17),o=n(21),c=n(22),s=n(0),l=n.n(s),u=n(39),d=n.n(u),p=n(18),f=n(269),m=n(170),h=n.n(m),v=n(13),g=n(16);function b(e){var t=e.source,n=e.style,a=e.noHeadings;return l.a.createElement("div",{style:n},l.a.createElement(h.a,{source:t,renderers:{heading:function(e){var t=e.level,n=e.children;return a?null:l.a.createElement(p.a,{color:"primary",variant:"h".concat(t),style:{fontWeight:300,marginBottom:3}},n)},paragraph:function(e){var t=e.children;return l.a.createElement(p.a,{variant:"body2",style:{fontWeight:200,marginTop:11,whiteSpace:"pre-wrap"}},t)},list:function(e){var t=e.children;return l.a.createElement("ul",{style:{paddingLeft:20}},t)},listItem:function(e){var t=e.children;return l.a.createElement("li",{style:{paddingLeft:0}},l.a.createElement(p.a,{variant:"body2",style:{paddingLeft:5,paddingRight:5,marginTop:11,fontWeight:200}},t))}}}))}function y(e){var t=e.source,n=e.style;return l.a.createElement("div",{style:n},l.a.createElement(h.a,{source:t,renderers:{paragraph:function(e){var t=e.children;return l.a.createElement(p.a,{variant:"body2",style:{fontWeight:200,color:g.c,whiteSpace:"pre-wrap"}},t)},list:function(e){var t=e.children;return l.a.createElement("ul",{style:{paddingLeft:20,color:g.c}},t)},listItem:function(e){var t=e.children;return l.a.createElement("li",{style:{paddingLeft:0}},l.a.createElement(p.a,{variant:"body2",style:{paddingLeft:5,paddingRight:5,color:g.c,fontWeight:200}},t))}}}))}var E=function(e){return{root:{marginTop:4,cursor:"text"}}},O=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={inputValue:e.props.value||"",editing:e.props.autoFocus},e.handleChange=function(t){return e.setState({inputValue:t.target.value})},e.setEditing=function(t){return function(){e.setState({editing:t}),!t&&e.props.onChange&&e.state.inputValue!==(e.props.value||"")&&e.props.onChange(e.state.inputValue)}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.label,a=this.state,r=a.inputValue;return a.editing?l.a.createElement(f.a,{label:n,fullWidth:!0,multiline:!0,style:{fontSize:11},value:r,color:"primary",autoFocus:!0,onChange:this.handleChange,onBlur:this.setEditing(!1),margin:"dense"}):r?l.a.createElement("div",{className:t.root,onClick:this.setEditing(!0)},l.a.createElement(b,{source:r,noHeadings:!0})):l.a.createElement("div",{className:t.root,onClick:this.setEditing(!0)},l.a.createElement(p.a,{variant:"caption",style:{color:v.a,textTransform:"uppercase"}}," ","+ ",n))}}]),n}(l.a.Component),j=d()(E)(O),w=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={inputValue:e.props.value||"",editing:e.props.autoFocus},e.handleChange=function(t){return e.setState({inputValue:t.target.value})},e.setEditing=function(t){return function(){e.setState({editing:t}),!t&&e.props.onChange&&e.state.inputValue!==(e.props.value||"")&&e.props.onChange(e.state.inputValue)}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.label,r=this.state,i=r.inputValue;return r.editing?l.a.createElement(f.a,{label:n,fullWidth:!0,value:i,color:"primary",autoFocus:!0,onChange:this.handleChange,onBlur:this.setEditing(!1),margin:"normal"}):i?l.a.createElement(v.f,{title:i,onClick:this.setEditing(!0)}):l.a.createElement("div",{className:t.root,onClick:this.setEditing(!0)},l.a.createElement(p.a,{variant:"h5",style:Object(a.a)(Object(a.a)({},v.h),{},{color:v.a,textTransform:"uppercase"})}," ","+ ",n))}}]),n}(l.a.Component),C=d()(E)(w)},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n(5),r=n.n(a),i=n(9),o=n(8),c=n(44),s=n(0),l=n(3),u=n(24);function d(e){var t=Object(c.c)().diffService,n=Object(s.useState)(null),a=Object(o.a)(n,2),l=a[0],u=a[1];return Object(s.useEffect)((function(){(function(){var n=Object(i.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=u,n.next=3,t.loadDescription(e);case 3:if(n.t1=n.sent,n.t1){n.next=6;break}n.t1=null;case 6:n.t2=n.t1,(0,n.t0)(n.t2);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e.diff.toString()]),l}function p(e){var t=Object(c.c)().captureService,n=Object(s.useState)(null),a=Object(o.a)(n,2),u=a[0],d=a[1];return Object(s.useEffect)((function(){var n=!0;return function(){var a=Object(i.a)(r.a.mark((function a(){var i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=11;break}return d(null),a.next=4,t.loadInteraction(e);case 4:if(a.t0=a.sent.interaction,a.t0){a.next=7;break}a.t0=null;case 7:i=a.t0,n&&d({interaction:i,interactionScala:l.JsonHelper.fromInteraction(i)}),a.next=12;break;case 11:n&&d(null);case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){return n=!1}}),[e]),u}function f(e,t){var n=Object(c.c)().diffService,a=Object(s.useState)([]),l=Object(o.a)(a,2),d=l[0],p=l[1];return Object(s.useEffect)((function(){var a=!0;return console.log("look here ",a),function(){var o=Object(i.a)(r.a.mark((function i(){var o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=7;break}return r.next=3,n.listSuggestions(e,t);case 3:o=r.sent,a&&(p(o),0===o.length&&Object(u.b)("Requirement Failed",{requirement:"Suggestions should never be empty",diff:e.toString()})),r.next=8;break;case 7:a&&p([]);case 8:case"end":return r.stop()}}),i)})));return function(){return o.apply(this,arguments)}}()(),function(){return a=!1}}),[e&&e.diff.toString()]),d}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,l=Object(c.c)(),u=l.diffService,d=Object(s.useState)(null),p=Object(o.a)(d,2),f=p[0],m=p[1],h=Object(s.useState)(!1),v=Object(o.a)(h,2),g=v[0],b=v[1];return Object(s.useEffect)((function(){window.naiveCache={}}),[a]),Object(s.useEffect)((function(){var a=!0,o=e.toString()+n.toString();return console.log("cache key "+o),function(){var c=Object(i.a)(r.a.mark((function i(){var c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=15;break}if(n&&b(!0),!window.naiveCache[o]){r.next=8;break}return r.next=5,Promise.resolve(window.naiveCache[o]);case 5:r.t0=r.sent,r.next=11;break;case 8:return r.next=10,u.loadInitialPreview(e,t,n);case 10:r.t0=r.sent;case 11:c=r.t0,a&&(b(!1),m(c),window.naiveCache[o]=c),r.next=16;break;case 15:a&&(b(!1),m(null));case 16:case"end":return r.stop()}}),i)})));return function(){return c.apply(this,arguments)}}()(),function(){return a=!1}}),[e.diff.toString(),t&&t.toString(),n]),{preview:f,loadingInferPoly:g}}window.naiveCache={}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(8),r=n(38),i={testingDashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/testing")},testingCapture:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/testing/captures/:captureId")},testingEndpointDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/testing/captures/:captureId/endpoints/:endpointId")},docsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/documentation")},requestDocsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(i.docsRoot(e),"/paths/:pathId/methods/:method")},diffsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/diffs")},captureRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(i.diffsRoot(e),"/:captureId")},captureRequestDiffsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(i.captureRoot(e),"/paths/:pathId/methods/:method")}};function o(){var e=Object(r.b)();return Object.entries(i).reduce((function(t,n){var r=Object(a.a)(n,2),i=r[0],o=r[1];return"function"===typeof o&&(t[i]=o(e)),t}),{})}},96:function(e,t,n){"use strict";var a=n(34),r=n(8),i=n(0),o=n.n(i),c=n(719),s=n(99),l=n(95),u=n(51),d=n(49),p=n(677),f=n(211),m=n.n(f),h=n(381),v=n.n(h),g=n(382),b=n.n(g),y=n(108),E=n(24),O=Object(s.a)({drawer:{width:270,flexShrink:0},miniDrawer:{width:55,flexShrink:0},drawerPaper:{width:270,backgroundColor:"#1B2958",display:"flex",flexDirection:"row"},miniDrawerPaper:{backgroundColor:"#1B2958",display:"flex",flexDirection:"row"},topLevel:{width:55,overflow:"hidden",borderRight:"1px solid #3F5597",display:"flex",alignItems:"center",flexDirection:"column"},navButton:{marginTop:6},opticLogo:{marginTop:5},mainSection:{flex:1}});var j=n(28);n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return S}));var w=o.a.createContext(null),C=Object(s.a)((function(e){return{root:{display:"flex",flexGrow:1},content:function(t){var n=t.padded,a=void 0===n||n;return{display:"flex",flexDirection:"column",flexGrow:1,paddingLeft:a?e.spacing(4):0,paddingRight:a?e.spacing(4):0}}}}));function x(e){var t=C(),n=Object(i.useState)([]);S(e.title,n);var a=Object(r.a)(n,1)[0].filter((function(e){return!!e})),c=a[a.length-1]||"";Object(i.useEffect)((function(){document&&c&&(document.title="".concat(c," - Optic"))}),[c]);var s=Object(j.h)().pathname;return Object(i.useEffect)((function(){e.scrollToTop&&window.scrollTo(0,0)}),[s]),o.a.createElement(w.Provider,{value:n},o.a.createElement("div",{className:t.root},e.children),";")}function S(e,t){var n=Object(i.useContext)(w)||t;return Object(i.useEffect)((function(){if(!n)throw Error("usePageTitle must be used in context of a Page");var t=Object(r.a)(n,2),i=t[0],o=t[1];return o([].concat(Object(a.a)(i),[e])),function(){var t=i.indexOf(e);o(i.slice(t,1))}}),[e]),e}x.Navbar=function(e){var t=O(),n=Object(l.a)(),r=Object(u.c)(),s=Object(i.useMemo)((function(){return[{name:"Review Diff",icon:o.a.createElement(v.a,{style:{color:"#e2e2e2"}}),link:n.diffsRoot},{name:"Documentation",icon:o.a.createElement(m.a,{style:{color:"#e2e2e2"}}),link:n.docsRoot}].concat(Object(a.a)(r&&r.TESTING_DASHBOARD?[{name:"Live Contract Testing",icon:o.a.createElement(b.a,{style:{color:"#e2e2e2"}}),link:n.testingDashboard}]:[]))}),[n]);return o.a.createElement(c.a,{id:"navbar",elevation:2,className:e.mini?t.miniDrawer:t.drawer,variant:"permanent",classes:{paper:e.mini?t.miniDrawerPaper:t.drawerPaper},anchor:"left"},o.a.createElement("div",{className:t.topLevel,style:e.mini&&{borderRight:"none"}},o.a.createElement("img",{src:"/optic-logo.svg",width:50,className:t.opticLogo}),s.map((function(e){return o.a.createElement(y.a,{key:e.link,title:e.name,component:d.b,to:e.link,placement:"right",onClick:function(){return Object(E.b)("Navigating to ".concat(e.name),e)}},o.a.createElement(p.a,{className:t.navButton},e.icon))}))),e.mini?null:o.a.createElement("div",{className:t.mainSection},e.children))},x.Body=function(e){var t=C(e);return o.a.createElement("div",{className:t.content},e.children)}},98:function(e,t,n){"use strict";var a=n(8),r=n(15),i=n(17),o=n(21),c=n(22),s=n(0),l=n.n(s),u=n(99),d=n(18),p=n(682),f=n(3),m=n(13),h=n(78),v=n(145),g=(n(63),n(29)),b=n(30),y=n(65),E=n(209),O=n(164),j=n(112),w=n(23),C=n(90),x=n(121),S=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!f.CompareEquality.betweenBodyDiff(e.diff||void 0,this.props.diff||void 0)||!f.CompareEquality.betweenSuggestions(e.selectedInterpretation||void 0,this.props.selectedInterpretation||void 0)||!f.CompareEquality.betweenInteractions(e.interactionScala||void 0,this.props.interactionScala||void 0)||!e.renderDiff!==this.props.renderDiff}},{key:"render",value:function(){var e=this.props,t=e.outerRfcState,n=e.renderDiff,a=e.diff,r=e.description,i=e.interactionScala,o=e.body,c=e.selectedInterpretation,s=e.rfcId,u=e.eventStore,d="render "+a.diff.toString()+i.uuid;if(n){var p=c?f.JsonHelper.seqToJsArray(c.commands):[];return l.a.createElement("div",{key:d},l.a.createElement(O.a,{rfcId:s,eventStore:u.getCopy(s),commands:p,shouldSimulate:!0},l.a.createElement(g.c.Consumer,null,(function(e){var t=e.rfcService,n=e.rfcId,o=t.currentState(n);console.time("Making preview "+d);var s=f.DiffResultHelper.previewDiff(a,i,o);return console.timeEnd("Making preview "+d),l.a.createElement(v.a,{suggestion:c,diff:a,preview:Object(f.getOrUndefined)(s),diffDescription:r})}))))}return l.a.createElement("div",{key:d},l.a.createElement(v.a,{exampleOnly:!0,preview:Object(f.getOrUndefined)(f.DiffResultHelper.previewBody(o,t))}))}}]),n}(l.a.Component),k=Object(g.f)(S),I=n(24);n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return P}));var D=Object(u.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},title:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:30},content:{display:"flex",flexDirection:"column",paddingTop:25},leftContent:{flex:1,padding:12},rightDrawer:{width:260,padding:12,borderLeft:"1px solid",borderLeftColor:"#e0e0e0"},innerRow:{display:"flex",flexDirection:"row"},shapeBox:{backgroundColor:w.g,borderRadius:8,overflow:"hidden"},headerBox:{padding:6,paddingLeft:0}}})),R=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!f.CompareEquality.betweenBodyDiff(e.selectedDiff||void 0,this.props.selectedDiff||void 0)}},{key:"render",value:function(){var e=this.props,t=e.selectedDiff,n=e.captureId,a=e.setSelectedDiff;return l.a.createElement(N,Object.assign({diff:t,captureId:n},{selectedDiff:t,setSelectedDiff:a}))}}]),n}(l.a.Component),N=function(e){var t=D(),n=e.diff,r=e.selectedDiff,i=e.setSelectedDiff,o=(e.rfcContext,e.captureId),c=Object(C.a)(n),u=Object(s.useState)(null),v=Object(a.a)(u,2),O=v[0],w=v[1],S=function(e){c&&e&&Object(I.b)("Previewing Suggestion",{captureId:o,diff:c.title,diffAssertion:c.assertion,suggestion:e.action}),w(e)};Object(s.useEffect)((function(){S(null)}),[n&&n.diff.toString()]);var R=Object(s.useContext)(g.c),N=R.rfcId,A=R.rfcService,B=R.cachedQueryResults,U=(R.eventStore,n.interactionsCount),F=l.a.useState(1),J=Object(a.a)(F,2),L=J[0],H=J[1];Object(s.useEffect)((function(){H(1)}),[n&&n.diff.toString()]);var z=A.currentState(N),W=(B.shapesResolvers,Object(f.getIndex)(n.interactionPointers)(L-1)),q=Object(C.c)(W);if(!q||!c)return l.a.createElement(x.c,{show:!0});q.interaction;var M=q.interactionScala,_=M.request,G=_.method,V=_.path;return Object(I.b)("Display Diff in Behavior Page",e),l.a.createElement(b.b,null,l.a.createElement("div",null,l.a.createElement("div",{className:t.title},l.a.createElement(d.a,{variant:"h6",color:"primary"},"Observation"),l.a.createElement("div",{style:{flex:1}}),l.a.createElement(d.a,{variant:"overline",style:{color:m.a}},"Examples"),l.a.createElement(p.a,{color:"primary",count:U,page:L,showLastButton:U>5,size:"small",onChange:function(e,t){return H(t)}})),l.a.createElement(m.b,{style:{marginTop:10,marginBottom:15}}),l.a.createElement(y.a,{path:V,method:G}),l.a.createElement("div",{className:t.content},l.a.createElement(h.a,{when:M.request.body.nonEmpty},l.a.createElement(T,{left:l.a.createElement(P,{header:l.a.createElement(j.a,{itemStyles:{fontSize:13,color:"white"},location:["Request Body",Object(f.getOrUndefined)(M.request.body.contentType)]})},l.a.createElement(k,{renderDiff:n.inRequest,diff:n,interactionScala:M,description:c,body:M.response.body,outerRfcState:z,selectedInterpretation:O})),right:l.a.createElement(E.a,Object.assign({inRequest:!0,description:c,currentInteraction:M},{selectedDiff:r,setSelectedDiff:i,selectedInterpretation:O,setSelectedInterpretation:S}))}),l.a.createElement("div",{style:{marginTop:20,marginBottom:20}},l.a.createElement(m.b,null))),l.a.createElement(h.a,{when:M.response.body.nonEmpty},l.a.createElement(T,{left:l.a.createElement(P,{header:l.a.createElement(j.a,{itemStyles:{fontSize:13,color:"white"},location:["".concat(M.response.statusCode," Response Body"),Object(f.getOrUndefined)(M.response.body.contentType)]})},l.a.createElement(k,{renderDiff:n.inResponse,diff:n,interactionScala:M,description:c,body:M.response.body,outerRfcState:z,selectedInterpretation:O})),right:l.a.createElement(E.a,Object.assign({inResponse:!0,description:c,currentInteraction:M},{selectedDiff:r,setSelectedDiff:i,selectedInterpretation:O,setSelectedInterpretation:S}))})))))},T=function(e){var t=e.left,n=e.right,a=D();return l.a.createElement("div",{className:a.innerRow},l.a.createElement("div",{style:{flex:1,paddingRight:25}},t),l.a.createElement("div",{style:{width:250}},n))},P=function(e){var t=e.header,n=e.children,a=D();return l.a.createElement("div",{className:a.shapeBox},l.a.createElement("div",{className:a.headerBox},t),l.a.createElement("div",null,n))}}},[[412,1,2]]]);
//# sourceMappingURL=main.d87b5d88.chunk.js.map